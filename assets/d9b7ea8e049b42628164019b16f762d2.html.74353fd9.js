import{r as e,o as n,c as a,a as s,F as r,b as l}from"./app.606f8546.js";const o={},t=s("h2",{id:"根据依赖图并行运行-npm-命令",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#根据依赖图并行运行-npm-命令","aria-hidden":"true"},"#"),l(" 根据依赖图并行运行 npm 命令")],-1),i=s("div",{class:"language-bash ext-sh line-numbers-mode"},[s("pre",{class:"language-bash"},[s("code",null,[l("lerna run --include-dependencies --stream "),s("span",{class:"token operator"},"<"),l("npm script"),s("span",{class:"token operator"},">"),l("\n")])]),s("div",{class:"line-numbers"},[s("span",{class:"line-number"},"1"),s("br")])],-1),u=l("参考: "),d={href:"https://github.com/lerna/lerna/blob/main/commands/run/README.md#--stream",target:"_blank",rel:"noopener noreferrer"},c=l("--stream"),p=l(" 和 "),h={href:"https://github.com/lerna/lerna/blob/main/core/filter-options/README.md#--include-dependencies",target:"_blank",rel:"noopener noreferrer"},b=l("--include-dependencies"),m=s("h2",{id:"rollup-捆绑-monorepo-仍然存在错误",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rollup-捆绑-monorepo-仍然存在错误","aria-hidden":"true"},"#"),l(" rollup 捆绑 monorepo 仍然存在错误")],-1),g=l("目前 rollup + node-resolve 插件捆绑本地依赖时仍然存在一些问题，参考："),f={href:"https://github.com/rollup/plugins/issues/743",target:"_blank",rel:"noopener noreferrer"},k=l("https://github.com/rollup/plugins/issues/743"),x=l("，目前的替代方案是 "),v={href:"https://esbuild.github.io/",target:"_blank",rel:"noopener noreferrer"},j=l("esbuild"),_=l("。"),E=s("h2",{id:"有时候会始终无法安装正确的版本",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#有时候会始终无法安装正确的版本","aria-hidden":"true"},"#"),l(" 有时候会始终无法安装正确的版本")],-1),y=s("p",null,"例如在 package.json 中声明了依赖",-1),A=s("div",{class:"language-json ext-json line-numbers-mode"},[s("pre",{class:"language-json"},[s("code",null,[s("span",{class:"token punctuation"},"{"),l("\n  "),s("span",{class:"token property"},'"rollup"'),s("span",{class:"token operator"},":"),l(),s("span",{class:"token string"},'"^2.51.0"'),l(),s("span",{class:"token comment"},"// 实际安装的可能是 2.50.6"),l("\n"),s("span",{class:"token punctuation"},"}"),l("\n")])]),s("div",{class:"line-numbers"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br")])],-1),D=s("p",null,[s("img",{src:"/assets/019d27e1c9224c39b2214fb943dd3c06.896c4044.png",alt:"1622999313766"})],-1),M=s("h2",{id:"强制发布新版本",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#强制发布新版本","aria-hidden":"true"},"#"),l(" 强制发布新版本")],-1),R=s("p",null,[l("有时候，你也许不小心发布了一个错误的版本，如果希望重新发布，请使用 "),s("code",null,"lerna publish --force-publish"),l("。")],-1),q=s("h2",{id:"适用场景",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#适用场景","aria-hidden":"true"},"#"),l(" 适用场景")],-1),F=s("ul",null,[s("li",null,"多个开源工具库：例如 babel、react、vue 这种包含许多功能的开源项目"),s("li",null,"不同技术栈的功能的分离：例如分离 electron 主进程与渲染进程，分别在不同的模块开发")],-1),L=s("h2",{id:"如何清理所有-node-modules-和-dist",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#如何清理所有-node-modules-和-dist","aria-hidden":"true"},"#"),l(" 如何清理所有 node_modules 和 dist")],-1),O=s("div",{class:"language-bash ext-sh line-numbers-mode"},[s("pre",{class:"language-bash"},[s("code",null,[l("lerna clean -y "),s("span",{class:"token operator"},"&&"),l(" lerna "),s("span",{class:"token builtin class-name"},"exec"),l(" -- rimraf dist\n")])]),s("div",{class:"line-numbers"},[s("span",{class:"line-number"},"1"),s("br")])],-1);o.render=function(l,o){const w=e("OutboundLink");return n(),a(r,null,[t,i,s("blockquote",null,[s("p",null,[u,s("a",d,[c,s(w)]),p,s("a",h,[b,s(w)])])]),m,s("p",null,[g,s("a",f,[k,s(w)]),x,s("a",v,[j,s(w)]),_]),E,y,A,D,M,R,q,F,L,O],64)};export{o as default};
