import{r as n,o as s,c as a,a as t,F as e,b as o}from"./app.1a2db17f.js";const c={},p=t("h2",{id:"使用-keyof-限定对象的属性值参数",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#使用-keyof-限定对象的属性值参数","aria-hidden":"true"},"#"),o(" 使用 keyof 限定对象的属性值参数")],-1),l=t("p",null,[o("如果参数中包含对象的属性，吾辈一般会使用 "),t("code",null,"string"),o(" 或者 "),t("code",null,"PropertyKey"),o("，但实际上 ts 里在这种场景下有更合适的方式: "),t("code",null,"keyof"),o("。")],-1),r=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"function"),o(),t("span",{class:"token generic-function"},[t("span",{class:"token function"},"get"),t("span",{class:"token generic class-name"},[t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(" object"),t("span",{class:"token operator"},">")])]),t("span",{class:"token punctuation"},"("),o("obj"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},","),o(" k"),t("span",{class:"token operator"},":"),o(" PropertyKey"),t("span",{class:"token punctuation"},")"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"any"),o(),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token keyword"},"return"),o(" obj"),t("span",{class:"token punctuation"},"["),o("k"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n\n"),t("span",{class:"token keyword"},"const"),o(" i "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),o(" name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},'""'),t("span",{class:"token punctuation"},","),o(" age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token number"},"17"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token string"},'"age"'),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token keyword"},"as"),o(),t("span",{class:"token builtin"},"number"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token builtin"},"console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),o("i "),t("span",{class:"token operator"},"-"),o(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br")])],-1),u=t("p",null,"优化一下",-1),k=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"function"),o(),t("span",{class:"token generic-function"},[t("span",{class:"token function"},"get"),t("span",{class:"token generic class-name"},[t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(" object"),t("span",{class:"token operator"},">")])]),t("span",{class:"token punctuation"},"("),o("obj"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},","),o(" k"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token keyword"},"keyof"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},")"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"["),t("span",{class:"token keyword"},"keyof"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"]"),o(),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token keyword"},"return"),o(" obj"),t("span",{class:"token punctuation"},"["),o("k"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n\n"),t("span",{class:"token comment"},"// 这里的第二个参数会有类型约束"),o("\n"),t("span",{class:"token keyword"},"const"),o(" i "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),o(" name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},'""'),t("span",{class:"token punctuation"},","),o(" age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token number"},"17"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token string"},'"age"'),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token keyword"},"as"),o(),t("span",{class:"token builtin"},"number"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token builtin"},"console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),o("i "),t("span",{class:"token operator"},"-"),o(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br")])],-1),i=t("h2",{id:"将对象的所有值进行映射",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#将对象的所有值进行映射","aria-hidden":"true"},"#"),o(" 将对象的所有值进行映射")],-1),b=t("p",null,[o("ts 内部实现了一个 "),t("code",null,"Partial"),o(" 类型就是这样")],-1),m=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token doc-comment comment"},"/**\n * Make all properties in T optional\n */"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("Partial"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"P"),o(),t("span",{class:"token keyword"},"in"),o(),t("span",{class:"token keyword"},"keyof"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},"?"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"P"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br")])],-1),d=t("p",null,"下面是一个使用示例，将对象中所有属性的值映射为函数。",-1),y=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("MapValueToFunc"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"{"),o(),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"P"),o(),t("span",{class:"token keyword"},"in"),o(),t("span",{class:"token keyword"},"keyof"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"P"),t("span",{class:"token punctuation"},"]"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),o("\n\n"),t("span",{class:"token keyword"},"function"),o(),t("span",{class:"token generic-function"},[t("span",{class:"token function"},"mapToComputed"),t("span",{class:"token generic class-name"},[t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(" object"),t("span",{class:"token operator"},">")])]),t("span",{class:"token punctuation"},"("),o("obj"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},")"),t("span",{class:"token operator"},":"),o(" MapValueToFunc"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">"),o(),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token keyword"},"return"),o(" Object"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"keys"),t("span",{class:"token punctuation"},"("),o("obj"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reduce"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),o("res"),t("span",{class:"token punctuation"},","),o(" k"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token punctuation"},"{"),o("\n    res"),t("span",{class:"token punctuation"},"["),o("k"),t("span",{class:"token punctuation"},"]"),o(),t("span",{class:"token operator"},"="),o(" obj"),t("span",{class:"token punctuation"},"["),o("k"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),o("\n    "),t("span",{class:"token keyword"},"return"),o(" res"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token keyword"},"as"),o(),t("span",{class:"token builtin"},"any"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br")])],-1),g=t("p",null,"测试一下",-1),f=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"const"),o(" res "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token function"},"mapToComputed"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),o("\n  name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},'"rx"'),t("span",{class:"token punctuation"},","),o("\n  age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token number"},"17"),t("span",{class:"token punctuation"},","),o("\n  sex"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),o("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br")])],-1),w=t("h2",{id:"infer-解构",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#infer-解构","aria-hidden":"true"},"#"),o(" infer 解构")],-1),T=t("p",null,"可以将复杂类型进行解构，以得到复杂类型中的部分类型。",-1),h=t("p",null,"下面是几个应用场景",-1),v=t("ul",null,[t("li",null,[o("取出泛型类。例如从 "),t("code",null,"Promise<T>"),o(" 中取出 "),t("code",null,"T")]),t("li",null,[o("取出函数的参数类型列表/返回值。例如从 "),t("code",null,"(...args: P): R"),o(" 中取出 "),t("code",null,"P"),o(" 和 "),t("code",null,"R")]),t("li",null,"获取到构造函数参数列表")],-1),x=t("p",null,"取出泛型类",-1),P=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token comment"},"// 一个用于"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("PromiseDeconstruct"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token builtin"},"Promise"),t("span",{class:"token operator"},"<"),t("span",{class:"token builtin"},"any"),t("span",{class:"token operator"},">>")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token class-name"},[t("span",{class:"token builtin"},"Promise"),t("span",{class:"token operator"},"<"),t("span",{class:"token keyword"},"infer"),o(),t("span",{class:"token constant"},"R"),t("span",{class:"token operator"},">")]),o("\n  "),t("span",{class:"token operator"},"?"),o(),t("span",{class:"token constant"},"R"),o("\n  "),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"never"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"const"),o(" res "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token builtin"},"Promise"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"resolve"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token comment"},"// 解构 Promsie 中的泛型类"),o("\n"),t("span",{class:"token keyword"},"const"),o(" i"),t("span",{class:"token operator"},":"),o(" PromiseDeconstruct"),t("span",{class:"token operator"},"<"),t("span",{class:"token keyword"},"typeof"),o(" res"),t("span",{class:"token operator"},">"),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br")])],-1),j=t("p",null,"获取函数的类型",-1),S=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("FuncParam"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token operator"},"..."),o("args"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"any"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>")]),o(),t("span",{class:"token builtin"},"any"),t("span",{class:"token operator"},">"),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token punctuation"},"("),o("\n  "),t("span",{class:"token operator"},"..."),o("args"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token keyword"},"infer"),o(),t("span",{class:"token constant"},"P"),o(),t("span",{class:"token comment"},"// 声明一个变量以进行解构部分类型"),o("\n"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token builtin"},"any"),o("\n  "),t("span",{class:"token operator"},"?"),o(),t("span",{class:"token constant"},"P"),o(),t("span",{class:"token comment"},"// 这个值其实永远不会到"),o("\n  "),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"never"),t("span",{class:"token punctuation"},";"),o("\n\n"),t("span",{class:"token keyword"},"function"),o(),t("span",{class:"token function"},"add"),t("span",{class:"token punctuation"},"("),o("a"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"number"),t("span",{class:"token punctuation"},","),o(" b"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),t("span",{class:"token punctuation"},")"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),o(),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token keyword"},"return"),o(" a "),t("span",{class:"token operator"},"+"),o(" b"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},"AddParam"),o(),t("span",{class:"token operator"},"="),o(" FuncParam"),t("span",{class:"token operator"},"<"),t("span",{class:"token keyword"},"typeof"),o(" add"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},";"),o("\n\n"),t("span",{class:"token keyword"},"const"),o(" arr"),t("span",{class:"token operator"},":"),o(" AddParam "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"["),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token string"},'"2"'),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br")])],-1),C=t("h2",{id:"typeof-获取变量的类型",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#typeof-获取变量的类型","aria-hidden":"true"},"#"),o(" typeof 获取变量的类型")],-1),R=t("p",null,[o("typeof 在 JS 中原本只是获取变量的类型，而且除了基本类型和 "),t("code",null,"Function"),o(" 之外，其它的所有类型都会得到 "),t("code",null,"object"),o("。而在 TS 种，该关键字的功能得到了增强，它真的变成了可以获取到变量类型，并且参与类型运算了。")],-1),q=t("ul",null,[t("li",null,[t("p",null,[o("如果是 "),t("code",null,"const"),o(" 声明的基本类型，则会被认为是字面量类型")]),t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"const"),o(" s "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token string"},'""'),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},"CustomString"),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token keyword"},"typeof"),o(" s"),t("span",{class:"token punctuation"},";"),o(),t("span",{class:"token comment"},"// ''"),o("\n"),t("span",{class:"token keyword"},"const"),o(" str1"),t("span",{class:"token operator"},":"),o(" CustomString "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token string"},'""'),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"const"),o(" str2"),t("span",{class:"token operator"},":"),o(" CustomString "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token string"},'"1"'),t("span",{class:"token punctuation"},";"),o(),t("span",{class:"token comment"},"// Type '\"1\"' is not assignable to type '\"\"'.ts(2322)"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br")])])]),t("li",null,[t("p",null,[o("如果是 "),t("code",null,"let/var"),o(" 声明的基本类型变量，则会被正常认为是基本类型")]),t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"let"),o(" s "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token string"},'""'),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},"CustomString"),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token keyword"},"typeof"),o(" s"),t("span",{class:"token punctuation"},";"),o(),t("span",{class:"token comment"},"// string"),o("\n"),t("span",{class:"token keyword"},"const"),o(" str1"),t("span",{class:"token operator"},":"),o(" CustomString "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token string"},'""'),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"const"),o(" str2"),t("span",{class:"token operator"},":"),o(" CustomString "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token string"},'"1"'),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br")])])]),t("li",null,[t("p",null,[o("如果是对象，则会被认为是对象的真实类型而非 "),t("code",null,"object")]),t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"const"),o(" user "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"{"),o(" name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},'""'),t("span",{class:"token punctuation"},","),o(" age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token number"},"17"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token doc-comment comment"},[o("/**\n * "),t("span",{class:"token punctuation"},"{"),o("\n *   name: string;\n *   age: number;\n * "),t("span",{class:"token punctuation"},"}"),o("\n */")]),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},"User"),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token keyword"},"typeof"),o(" user"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"const"),o(" user2"),t("span",{class:"token operator"},":"),o(" User "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"{"),o(" name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},'"rx"'),t("span",{class:"token punctuation"},","),o(" age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token number"},"1"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br")])])])],-1),F=t("p",null,[o("注：虽然着 TypeScript 的类型运算中是这样的，但实际上使用 "),t("code",null,"console.log(typeof new Date())"),o(" 打印的还是 "),t("code",null,"object"),o(" 而非 "),t("code",null,"Date"),o("，请记住："),t("strong",null,"TypeScript 只在编译期生效，运行时所有类型都会被擦除。")],-1),O=t("h2",{id:"as-const-声明常量",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#as-const-声明常量","aria-hidden":"true"},"#"),o(" as const 声明常量")],-1),V=t("p",null,[o("使用 "),t("code",null,"as const"),o(" 可以声明一个变量为常量")],-1),G=t("ul",null,[t("li",null,[t("p",null,"基本类型：将之变为字面量类型")]),t("li",null,[t("p",null,"对象：将之所有的属性变为只读")]),t("li",null,[t("p",null,"数组：将之变为元组"),t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"const"),o(" i "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token number"},"1"),o(),t("span",{class:"token keyword"},"as"),o(),t("span",{class:"token keyword"},"const"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"const"),o(" str "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token string"},'"1"'),o(),t("span",{class:"token keyword"},"as"),o(),t("span",{class:"token keyword"},"const"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"const"),o(" bool "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token boolean"},"false"),o(),t("span",{class:"token keyword"},"as"),o(),t("span",{class:"token keyword"},"const"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"const"),o(" tuple "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"["),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},"]"),o(),t("span",{class:"token keyword"},"as"),o(),t("span",{class:"token keyword"},"const"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"const"),o(" obj "),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"{"),o("\n  name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},'"rx"'),t("span",{class:"token punctuation"},","),o("\n  age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),o("\n"),t("span",{class:"token punctuation"},"}"),o(),t("span",{class:"token keyword"},"as"),o(),t("span",{class:"token keyword"},"const"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br")])])])],-1),_=t("h2",{id:"泛型中指定类型必须拥有某个字段",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#泛型中指定类型必须拥有某个字段","aria-hidden":"true"},"#"),o(" 泛型中指定类型必须拥有某个字段")],-1),D=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"export"),o(),t("span",{class:"token keyword"},"function"),o(),t("span",{class:"token generic-function"},[t("span",{class:"token function"},"treeMap"),t("span",{class:"token generic class-name"},[t("span",{class:"token operator"},"<"),o("\n  "),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(" object"),t("span",{class:"token punctuation"},","),o("\n  "),t("span",{class:"token constant"},"C"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token punctuation"},"{"),o(" id"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token keyword"},"keyof"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},";"),o(" children"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token keyword"},"keyof"),o(),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),o("\n  "),t("span",{class:"token constant"},"R"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token punctuation"},"{"),o(),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"C"),t("span",{class:"token punctuation"},"["),t("span",{class:"token string"},'"children"'),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"R"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),o(),t("span",{class:"token punctuation"},"}"),o("\n"),t("span",{class:"token operator"},">")])]),t("span",{class:"token punctuation"},"("),o("node"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},","),o(" fn"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"("),o("t"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},","),o(" parentPath"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"C"),t("span",{class:"token punctuation"},"["),t("span",{class:"token string"},'"id"'),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token constant"},"R"),t("span",{class:"token punctuation"},","),o(" options"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"C"),t("span",{class:"token punctuation"},")"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"R"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br")])],-1),E=t("h2",{id:"动态根据对象的值进行过滤-pick-omit-是静态的",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#动态根据对象的值进行过滤-pick-omit-是静态的","aria-hidden":"true"},"#"),o(" 动态根据对象的值进行过滤（Pick/Omit 是静态的）")],-1),U=o("参考："),K={href:"https://github.com/microsoft/TypeScript/issues/23199#issuecomment-379323872",target:"_blank",rel:"noopener noreferrer"},M=o("https://github.com/microsoft/TypeScript/issues/23199#issuecomment-379323872"),N=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("FilteredKeys"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token constant"},"U"),t("span",{class:"token operator"},">")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"P"),o(),t("span",{class:"token keyword"},"in"),o(),t("span",{class:"token keyword"},"keyof"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"P"),t("span",{class:"token punctuation"},"]"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token class-name"},[t("span",{class:"token constant"},"U")]),o(),t("span",{class:"token operator"},"?"),o(),t("span",{class:"token constant"},"P"),o(),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"never"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},"["),t("span",{class:"token keyword"},"keyof"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),o("\n\n"),t("span",{class:"token comment"},"// 过滤所有值不为 object 的字段"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("PickObject"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(" object"),t("span",{class:"token operator"},">")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"P"),o(),t("span",{class:"token keyword"},"in"),o(" FilteredKeys"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},","),o(" object"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"["),t("span",{class:"token constant"},"P"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[t("span",{class:"token constant"},"S")]),o(),t("span",{class:"token operator"},"="),o(" PickObject"),t("span",{class:"token operator"},"<"),t("span",{class:"token punctuation"},"{"),o("\n  name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),t("span",{class:"token punctuation"},";"),o("\n  age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"number"),t("span",{class:"token punctuation"},";"),o("\n  info"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"{"),o("\n    age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},";"),o(),t("span",{class:"token comment"},"// { info: { age: []; }; }"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br")])],-1),A=t("h2",{id:"node-js-在-typescript-中使用-process-env",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#node-js-在-typescript-中使用-process-env","aria-hidden":"true"},"#"),o(" node.js 在 TypeScript 中使用 p"),t("wbr"),o("rocess.env")],-1),H=t("p",null,[o("TypeScript 中定义 p"),t("wbr"),o("rocess.env 的类型，默认为 Record<string, string>")],-1),I=t("p",null,"使用以下定义可破",-1),J=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token comment"},"// src/@types/environment.d.ts"),o("\n\n"),t("span",{class:"token keyword"},"declare"),o(),t("span",{class:"token keyword"},"namespace"),o(" NodeJS "),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token keyword"},"interface"),o(),t("span",{class:"token class-name"},"ProcessEnv"),o(),t("span",{class:"token punctuation"},"{"),o("\n    "),t("span",{class:"token constant"},"GITHUB_AUTH_TOKEN"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),t("span",{class:"token punctuation"},";"),o("\n    "),t("span",{class:"token constant"},"NODE_ENV"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},'"development"'),o(),t("span",{class:"token operator"},"|"),o(),t("span",{class:"token string"},'"production"'),t("span",{class:"token punctuation"},";"),o("\n    "),t("span",{class:"token constant"},"PORT"),t("span",{class:"token operator"},"?"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),t("span",{class:"token punctuation"},";"),o("\n    "),t("span",{class:"token constant"},"PWD"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token punctuation"},"}"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n\n"),t("span",{class:"token comment"},"// If this file has no import/export statements (i.e. is a script)"),o("\n"),t("span",{class:"token comment"},"// convert it into a module by adding an empty export statement."),o("\n"),t("span",{class:"token keyword"},"export"),o(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br")])],-1),B=o("参考: "),L={href:"https://stackoverflow.com/questions/45194598/using-process-env-in-typescript",target:"_blank",rel:"noopener noreferrer"},W=o("https://stackoverflow.com/questions/45194598/using-process-env-in-typescript"),z=t("h2",{id:"自动推断包含一般值与函数的情况",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#自动推断包含一般值与函数的情况","aria-hidden":"true"},"#"),o(" 自动推断包含一般值与函数的情况")],-1),Q=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("GetValue"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token operator"},"|"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("GetValueType"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token builtin"},"any"),o("\n  "),t("span",{class:"token operator"},"?"),o(" ReturnType"),t("span",{class:"token operator"},"<"),o("Extract"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token builtin"},"any"),t("span",{class:"token operator"},">>"),o(),t("span",{class:"token operator"},"|"),o(" Exclude"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token builtin"},"any"),t("span",{class:"token operator"},">"),o("\n  "),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},";"),o("\n\n"),t("span",{class:"token keyword"},"declare"),o(),t("span",{class:"token keyword"},"function"),o(),t("span",{class:"token generic-function"},[t("span",{class:"token function"},"f"),t("span",{class:"token generic class-name"},[t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token builtin"},"any"),t("span",{class:"token operator"},">")])]),t("span",{class:"token punctuation"},"("),o("\n  map"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"["),o("probability"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"number"),t("span",{class:"token punctuation"},","),o(" value"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),o("\n"),t("span",{class:"token punctuation"},")"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(" GetValueType"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},";"),o("\n\n"),t("span",{class:"token generic-function"},[t("span",{class:"token function"},"f"),t("span",{class:"token generic class-name"},[t("span",{class:"token operator"},"<"),o("GetValue"),t("span",{class:"token operator"},"<"),t("span",{class:"token builtin"},"number"),t("span",{class:"token operator"},">>")])]),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),o("\n  "),t("span",{class:"token punctuation"},"["),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),o("\n  "),t("span",{class:"token punctuation"},"["),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),o("\n"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token function"},"f"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),o("\n  "),t("span",{class:"token punctuation"},"["),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),o("\n  "),t("span",{class:"token punctuation"},"["),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),o(),t("span",{class:"token comment"},"// The type is not correctly inferred"),o("\n"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br")])],-1),X=t("p",null,[t("img",{src:"/assets/19a3d23c4f024938b8e327148d9f964e.dcf4b5f7.png",alt:"1622083980387"})],-1),Y=t("p",null,"f 的类型定义修改如下",-1),Z=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token keyword"},"declare"),o(),t("span",{class:"token keyword"},"function"),o(),t("span",{class:"token generic-function"},[t("span",{class:"token function"},"f"),t("span",{class:"token generic class-name"},[t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token builtin"},"any"),t("span",{class:"token operator"},">")])]),t("span",{class:"token punctuation"},"("),o("\n  map"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"["),o("probability"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"number"),t("span",{class:"token punctuation"},","),o(" value"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token operator"},"|"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),o("\n"),t("span",{class:"token punctuation"},")"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(" GetValueType"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},";"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br")])],-1),$=o("参考答案："),nn={href:"https://segmentfault.com/q/1010000040072586/a-1020000040073003",target:"_blank",rel:"noopener noreferrer"},sn=o("https://segmentfault.com/q/1010000040072586/a-1020000040073003"),an=t("h2",{id:"如何增加新的全局变量",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#如何增加新的全局变量","aria-hidden":"true"},"#"),o(" 如何增加新的全局变量")],-1),tn=t("div",{class:"language-typescript ext-ts line-numbers-mode"},[t("pre",{class:"language-typescript"},[t("code",null,[t("span",{class:"token comment"},"// 这行是必不可少的"),o("\n"),t("span",{class:"token keyword"},"export"),o(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),o("\n\n"),t("span",{class:"token keyword"},"declare"),o(" global "),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token keyword"},"interface"),o(),t("span",{class:"token class-name"},"Global"),o(),t("span",{class:"token punctuation"},"{"),o("\n    config"),t("span",{class:"token operator"},":"),o(" MyConfigType"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token punctuation"},"}"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br")])],-1),en=o("参考："),on={href:"https://stackoverflow.com/questions/57132428/",target:"_blank",rel:"noopener noreferrer"},cn=o("https://stackoverflow.com/questions/57132428/");c.render=function(o,c){const pn=n("OutboundLink");return s(),a(e,null,[p,l,r,u,k,i,b,m,d,y,g,f,w,T,h,v,x,P,j,S,C,R,q,F,O,V,G,_,D,E,t("blockquote",null,[t("p",null,[U,t("a",K,[M,t(pn)])])]),N,A,H,I,J,t("p",null,[B,t("a",L,[W,t(pn)])]),z,Q,X,Y,Z,t("blockquote",null,[t("p",null,[$,t("a",nn,[sn,t(pn)])])]),an,tn,t("blockquote",null,[t("p",null,[en,t("a",on,[cn,t(pn)])])])],64)};export{c as default};
