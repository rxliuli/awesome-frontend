import{r as t,o,c,a as n,d as e,F as l,e as p,b as s}from"./app.a472134f.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";var u="/assets/9aa685b675a14bf788093f2656ffc4e8.5d9732f0.png",i="/assets/be9a61a9bb6c466a86f0fe9c1ea499a6.f55af509.png";const k={},b=p(`<h2 id="\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#\u73AF\u5883" aria-hidden="true">#</a> \u73AF\u5883</h2><ul><li>Windows 10</li><li>NodeJS 12</li><li>WebStorm</li><li>VSCode\uFF08\u7F16\u5199 markdown \u6587\u6863\uFF09</li></ul><h2 id="\u521B\u5EFA-lerna-\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA-lerna-\u9879\u76EE" aria-hidden="true">#</a> \u521B\u5EFA lerna \u9879\u76EE</h2><p>\u521B\u5EFA\u76EE\u5F55 <em>electron_example</em>\uFF0C\u7136\u540E\u4F7F\u7528 yarn \u521D\u59CB\u5316</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> electron_example <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> electron_example
<span class="token function">yarn</span> init -y
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4FEE\u6539 <em>package.json</em></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron_example&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;workspaces&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;packages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;apps/*&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u968F\u540E\u521B\u5EFA <em>lerna.json</em> \u914D\u7F6E\u6587\u4EF6</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;packages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;apps/*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;independent&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;npmClient&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yarn&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;useWorkspaces&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u521D\u59CB\u5316\u76EE\u5F55\u5982\u4E0B</p><ul><li><em>apps</em><ul><li><em>main</em>: \u4E3B\u8FDB\u7A0B</li><li><em>renderer</em>: \u6E32\u67D3\u8FDB\u7A0B</li></ul></li><li><em>node_modules</em></li><li><em>lerna.json</em></li><li><em>package.json</em></li><li><em>yarn.lock</em></li></ul>`,11),m=s("\u53C2\u8003: "),d={href:"https://github.com/rxliuli/electron_example/tree/b9628e1fd16bb5b6807e55e9ca72fdf2daf5bfde",target:"_blank",rel:"noopener noreferrer"},q=s("https://github.com/rxliuli/electron_example/tree/b9628e1fd16bb5b6807e55e9ca72fdf2daf5bfde"),h=p(`<h2 id="\u521D\u59CB\u5316\u6E32\u67D3\u5C42\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#\u521D\u59CB\u5316\u6E32\u67D3\u5C42\u6A21\u5757" aria-hidden="true">#</a> \u521D\u59CB\u5316\u6E32\u67D3\u5C42\u6A21\u5757</h2><p>\u5728 renderer \u76EE\u5F55\u4E2D\u4F7F\u7528 create-react-app \u521B\u5EFA\u4E00\u4E2A react \u9879\u76EE\uFF0C\u5E76\u6DFB\u52A0</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx create-react-app apps/renderer/ --template typescript
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4E0D\u8FC7\u8FD8\u9700\u8981\u4FEE\u6539\u5176\u4E2D\u90E8\u5206\u914D\u7F6E\uFF0C\u4E3B\u8981\u5305\u542B</p><ul><li>\u5220\u9664 <em>yarn.lock</em> \u6216 <em>package-lock.json</em> \u6587\u4EF6</li></ul>`,5),g=s("\u53C2\u8003: "),f={href:"https://github.com/rxliuli/electron_example/tree/8e0920af985e1201fc05ca36302e094532843c2d",target:"_blank",rel:"noopener noreferrer"},_=s("https://github.com/rxliuli/electron_example/tree/8e0920af985e1201fc05ca36302e094532843c2d"),y=n("p",null,[s("\u5C1D\u8BD5\u518D yarn \u5B89\u88C5\u4F9D\u8D56\uFF0C\u63A5\u7740\u518D\u4F7F\u7528 "),n("code",null,"yarn start"),s(" \u542F\u52A8\u5F00\u53D1\u73AF\u5883\uFF0C\u5E94\u8BE5\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u4E2D\u770B\u5230\u9ED8\u8BA4\u7684\u9875\u9762\u3002")],-1),v=n("p",null,[n("img",{src:u,alt:"20210106194304.png"})],-1),x=n("h2",{id:"\u521D\u59CB\u5316\u4E3B\u8FDB\u7A0B\u6A21\u5757",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u521D\u59CB\u5316\u4E3B\u8FDB\u7A0B\u6A21\u5757","aria-hidden":"true"},"#"),s(" \u521D\u59CB\u5316\u4E3B\u8FDB\u7A0B\u6A21\u5757")],-1),j=s("\u53C2\u8003: "),w={href:"https://github.com/rxliuli/electron_example/tree/a78885b76de9322dfdac82e2c220b7c6e0a9617f",target:"_blank",rel:"noopener noreferrer"},W=s("https://github.com/rxliuli/electron_example/tree/a78885b76de9322dfdac82e2c220b7c6e0a9617f"),E=s(" \u6CE8\uFF1Aelectron \u7248\u672C\u9009\u62E9\u53CC\u6570\uFF0C\u751F\u547D\u5468\u671F\u66F4\u957F\u3002"),N=p(`<p>\u521D\u59CB\u5316\u4E3B\u8FDB\u7A0B\u6A21\u5757\uFF0C\u4E3B\u8981\u5305\u62EC</p><h3 id="\u4E3A\u4E3B\u8FDB\u7A0B\u521B\u5EFA-package-json" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4E3B\u8FDB\u7A0B\u521B\u5EFA-package-json" aria-hidden="true">#</a> \u4E3A\u4E3B\u8FDB\u7A0B\u521B\u5EFA package.json</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1.0&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="\u6DFB\u52A0\u4F9D\u8D56-yarn-add-electron-electron-builder-typescript" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0\u4F9D\u8D56-yarn-add-electron-electron-builder-typescript" aria-hidden="true">#</a> \u6DFB\u52A0\u4F9D\u8D56 <code>yarn add electron electron-builder typescript</code></h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;electron&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^10.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;electron-builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^22.9.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.3&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="\u6DFB\u52A0-tsconfig-json-\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0-tsconfig-json-\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u6DFB\u52A0 <em>tsconfig.json</em> \u914D\u7F6E\u6587\u4EF6</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// nodejs \u751F\u6001\u5927\u591A\u6570\u90FD\u652F\u6301\u8FD9\u79CD\u6A21\u5757</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u4F18\u5148\u8003\u8651\u8F93\u51FA es5</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u4F46\u4E0D\u8981\u81EA\u7F1A\u624B\u811A\uFF0C\u4ECD\u7136\u4F7F\u7528\u6700\u65B0\u7684 es \u7279\u6027</span>
    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ESNext&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5B9A\u4E49\u6E90\u76EE\u5F55\u4E0E\u8F93\u51FA\u76EE\u5F55</span>
    <span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u751F\u6210 sourceMap \u65B9\u4FBF IDE \u672C\u5730\u8C03\u8BD5</span>
    <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// \u7981\u6B62 ts \u68C0\u67E5 npm \u4F9D\u8D56\u7684\u7C7B\u578B\u5B9A\u4E49\uFF08\u4F8B\u5982 electron \u7684\u7C7B\u578B\u5B9A\u4E49\u5C31\u5F88\u5BB9\u6613\u88AB ts \u68C0\u67E5\u51FA\u9519\u8BEF\uFF0C\u6BD5\u7ADF\u8FD9\u4E2A\u9879\u76EE\u5B9E\u5728\u592A\u5927\u4E86\uFF09</span>
    <span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;skipDefaultLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u6392\u9664\u4F9D\u8D56\u76EE\u5F55\u4E0E\u8F93\u51FA\u76EE\u5F55</span>
  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="\u6DFB\u52A0-src-main-ts-\u57FA\u672C\u7684\u542F\u52A8\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0-src-main-ts-\u57FA\u672C\u7684\u542F\u52A8\u6587\u4EF6" aria-hidden="true">#</a> \u6DFB\u52A0 <em>src/main.ts</em> \u57FA\u672C\u7684\u542F\u52A8\u6587\u4EF6</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// src/main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> app<span class="token punctuation">,</span> BrowserWindow <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;electron&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">createMainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u521B\u5EFA\u65B0\u7684 electron \u7A97\u53E3</span>
  <span class="token keyword">const</span> mainWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8F7D\u5165\u5F00\u53D1\u73AF\u5883\u7684 url</span>
  <span class="token keyword">await</span> mainWindow<span class="token punctuation">.</span><span class="token function">loadURL</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:3000/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * main \u51FD\u6570
 */</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;ready&quot;</span><span class="token punctuation">,</span> createMainWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="\u66F4\u65B0-package-json-\u6DFB\u52A0\u51E0\u4E2A-npm-script" tabindex="-1"><a class="header-anchor" href="#\u66F4\u65B0-package-json-\u6DFB\u52A0\u51E0\u4E2A-npm-script" aria-hidden="true">#</a> \u66F4\u65B0 <em>package.json</em> \u6DFB\u52A0\u51E0\u4E2A npm script</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7F16\u8BD1 ts \u4EE3\u7801</span>
    <span class="token property">&quot;compile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u7F16\u8BD1 tsc \u4EE3\u7801\u4E14\u542F\u52A8\u76D1\u542C\u6A21\u5F0F</span>
    <span class="token property">&quot;watch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yarn compile -w&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5728\u4E3B\u8FDB\u7A0B\u901A\u8FC7 lerna \u542F\u52A8\u6E32\u67D3\u8FDB\u7A0B\u6A21\u5757\u7684\u5F00\u53D1\u73AF\u5883</span>
    <span class="token property">&quot;dev:web&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lerna run --scope renderer start&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u542F\u52A8\u4E3B\u8FDB\u7A0B\u7684\u5F00\u53D1\u73AF\u5883</span>
    <span class="token property">&quot;dev:electron&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron ./dist/main.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u901A\u8FC7\u8FD9\u4E9B npm script \u542F\u52A8 electron \u5F00\u53D1\u73AF\u5883</p><ol><li>\u8FD0\u884C <code>yarn watch</code></li><li>\u8FD0\u884C <code>dev:web</code></li><li>\u7B49\u5F85\u4EE5\u4E0A\u4E24\u6761\u547D\u4EE4\u90FD\u8FD0\u884C\u5B8C\u6210\uFF0C\u518D\u7EE7\u7EED\u8FD0\u884C <code>dev:electron</code></li></ol><p>\u73B0\u5728\uFF0C\u4F60\u5E94\u8BE5\u53EF\u4EE5\u770B\u5230\u4E00\u4E2A electron \u7A97\u53E3\uFF0C\u5176\u4E2D\u663E\u793A\u7740\u3002</p><p><img src="`+i+'" alt="20210106194102.png"></p><h2 id="\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a> \u603B\u7ED3</h2><p>\u76EE\u524D\uFF0C\u4F7F\u7528 lerna monorepo \u4F3C\u4E4E\u8FD8\u770B\u4E0D\u51FA\u6765\u660E\u663E\u7684\u4F18\u70B9\uFF0C\u4E0D\u8FC7\u5B9E\u9645\u4E0A\u5728\u540E\u9762\u9010\u6B65\u5B8C\u5584 Electron \u7A0B\u5E8F\u7684\u8FC7\u7A0B\u4E2D\u6211\u4EEC\u4F1A\u53D1\u73B0\u5B83\u7684\u5F3A\u5927\u4E4B\u5904\u3002</p>',17);function B(C,D){const a=t("ExternalLinkIcon");return o(),c(l,null,[b,n("blockquote",null,[n("p",null,[m,n("a",d,[q,e(a)])])]),h,n("blockquote",null,[n("p",null,[g,n("a",f,[_,e(a)])])]),y,v,x,n("blockquote",null,[n("p",null,[j,n("a",w,[W,e(a)]),E])]),N],64)}var S=r(k,[["render",B]]);export{S as default};
