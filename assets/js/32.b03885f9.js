(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{405:function(t,s,a){"use strict";a.r(s);var n=a(44),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"突然之间-electron-就不能启动了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#突然之间-electron-就不能启动了"}},[t._v("#")]),t._v(" 突然之间 electron 就不能启动了")]),t._v(" "),a("p",[t._v("删除 node_modules 重新 yarn 看看？")]),t._v(" "),a("h2",{attrs:{id:"打包之后的程序页面空白"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包之后的程序页面空白"}},[t._v("#")]),t._v(" 打包之后的程序页面空白")]),t._v(" "),a("p",[t._v("实际上是 electron 无法正常加载页面，原因很多")]),t._v(" "),a("ol",[a("li",[t._v("路径问题，解压 asar 查看实际路径（"),a("code",[t._v("main.js")]),t._v(" 中 "),a("code",[t._v("loadUrl")]),t._v(" 的路径是否正确）")]),t._v(" "),a("li",[t._v("react router 仅支持 hash 模式")]),t._v(" "),a("li",[t._v("在从文件系统中读取 html 文件时不能使用 "),a("code",[t._v("#")]),t._v(" 指定路由，参考: "),a("a",{attrs:{href:"https://stackoverflow.com/questions/55715384s",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://stackoverflow.com/questions/55715384s"),a("OutboundLink")],1)])]),t._v(" "),a("blockquote",[a("p",[t._v("asar 文件一般在 "),a("em",[t._v("win-unpacked/:/app")]),t._v("，参考: "),a("a",{attrs:{href:"https://github.com/electron/asar",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/electron/asar"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"electron-程序命令行输出中文乱码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#electron-程序命令行输出中文乱码"}},[t._v("#")]),t._v(" electron 程序命令行输出中文乱码")]),t._v(" "),a("p",[t._v("在运行命令前首先运行 "),a("code",[t._v("chcp 65001")]),t._v(" 修改活动代码页编号，参考："),a("a",{attrs:{href:"https://stackoverflow.com/questions/57131654",target:"_blank",rel:"noopener noreferrer"}},[t._v("Using UTF-8 Encoding (CHCP 65001) in Command Prompt / Windows Powershell (Windows 10)"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"如何不打包成压缩格式-asar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何不打包成压缩格式-asar"}},[t._v("#")]),t._v(" 如何不打包成压缩格式 asar")]),t._v(" "),a("p",[t._v("配置 electron-builder "),a("code",[t._v('"asar": false')]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"second-instance-事件监听无效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#second-instance-事件监听无效"}},[t._v("#")]),t._v(" "),a("code",[t._v("second-instance")]),t._v(" 事件监听无效")]),t._v(" "),a("p",[t._v("必须使用 "),a("code",[t._v("app.requestSingleInstanceLock()")]),t._v(" 保持应用程序单例，才能正常监听到该事件。")]),t._v(" "),a("p",[t._v("示例代码")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gotTheLock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestSingleInstanceLock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("gotTheLock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("quit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"second-instance"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" commandLine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" workingDirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"second-instance"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("参考: "),a("a",{attrs:{href:"https://www.electronjs.org/docs/api/app#apprequestsingleinstancelock",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.electronjs.org/docs/api/app#apprequestsingleinstancelock"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"安装浏览器扩展报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装浏览器扩展报错"}},[t._v("#")]),t._v(" 安装浏览器扩展报错")]),t._v(" "),a("p",[t._v("提示安装失败")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node:23488"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ExtensionLoadWarning: Warnings loading extension at C:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("rxliuli"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AppData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Roaming"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Electron"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("extensions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("fmkadmapgofadopljbjfkapdkoienihi: Unrecognized manifest key "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'browser_action'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" Unre\ncognized manifest key "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'minimum_chrome_version'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" Unrecognized manifest key "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update_url'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" Cannot load extension with "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" or directory name _metadata. Filenames starting with "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"_"')]),t._v(" are reserved "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" use by\n the system.\n")])])]),a("p",[t._v("其实答案是：扩展必须在 "),a("code",[t._v("app.ready")]),t._v(" 之后，创建 BrowserWindow 窗口之前安装。")])])}),[],!1,null,null,null);s.default=e.exports}}]);