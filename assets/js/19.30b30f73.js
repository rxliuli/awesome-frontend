(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{372:function(t,A){t.exports="data:image/png;base64,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ANCD7A+s9evX//znP8/jj3zkI8cee+yJJ5543nnn5TWLFy/esGFDHrd1ww03PPzww1ddddWtt9562WWXVWuL4vbbb1+5cmW1UKfR+QAAPcj+wHr66aeXL1+eBoMGDRozZkwaHHHEEbWrhI888sivf/3rPG5ryJAhDzzwwJw5c6ZOnfrjH//4O9/5Tl7f3Nw8f/78tjfINzofAKAHqQJr165dP/3pT/MFu1GjRr3//e/P62tXCZOFCxd2dI/UlVdemZqsV69eady7d+9PfOITtVc9//zz27Zty+OaRucDAPQgVWC99NJLjz32WB6fffbZe/bsyb/clxrojDPOyOuXL1/+8ssv53Erw4cP79OnT7VQFMcdd9ypp56axxs3bmz7G4KNzgcA6EGqwHriiSfy9cHkpptuyr/ZlwwePLh2/S5NqEVY51KWHXHEEdVCFzQ6HwDgcFYG1vbt2+fNm5eXO7dgwYI0uVro2M6dO9etW5fHffr06d17/51e7Wp0PgDA4axMmRdeeKF2+ur000//mzbSyvzTpUuXrlmzJo/rbdiwof7O9LVr1z7//PN5fNppp/Xr1y+PaxqdDwDQg5SBtWTJkvzncZJp06b9oo0pU6bkn65evXrhwoV5XO9HP/rRU089lcfbt2//7ne/m2bmxQsuuKBv3755XNPofACAHqT3q6++mhIqL4wcOfJDH/pQHtcbNWrUmWeemceLFy9OL8njmuXLl1922WWpw26++eaPfexj3/72t/P68ePHp2DK43qNzgcA6EF6r169etmyZXlhxIgRAwcOzON6Q4cOTe2Vx2ly7WxTzbhx4zZv3jxjxoyvfOUrqcDyytNPP/2LX/zigAED8mK9RucDAPQgvefPn5//PE4yevToI488Mo/r9evXr3Ziqd1ngV511VX33HNP7Vat5JOf/OQPf/jD/MDSthqdDwDQg/Tq9mPTly5dWquu2bNnf/rTn961a9fGjRs3b948ZMiQY445Jj9HtKbR+QAAPVTkAxH69u170kknDR8+/Nhjj+1KLTU6HwCgR/DEKQCAYAILACCYwAIACCawAACCdf+3CAEAaJczWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMF6NTc3z507t6mpqVrx9hkyZMiECRPS4LA6noEDB1bLAABd0+tb3/rWGWeccc4551Qr3j4rV6589tln0+CwOp7JkydXywAAXdO7qanpcKiZJB1GOpjD7XiqBQCALnMPFgBAMIEFABCss8DauXPnF77whfvuu6/VOJk+fXptnKUJaeXmzZur5aJIE1rNWb58eZpTLTSu7U6ztPJgNgsAEKuzwFq1atWLL7740Y9+NI137NiRxieffHIap5a6/PLL77333iuuuKK+qPr163fLLbekn+bF9MI0J0VVXly9evX1118/bNiw2oSG1HaaWiptavTo0X+2z6RJk6ZNm1YttMjJVS20SIut1tSkcOzeIQEAtKuzwFq0aNHIkSP79++fxps2bdq7d28ev/vd7/7ABz4we/bs1FsLFy5smVuunDx58qBBg+688868Jk2eMmVKSqKUL6nDbrzxxhkzZowbNy7NzBMaknf6ve99L/+m4eLFi1/dJ62cOnVqtdBi4sSJaddpUPtRWkyvSotpvGbNmgkTJqxYsSKNH3zwwZbNAwCE6TCwUhItX768dmbowx/+8MMPP5y+58UktdSsWbMmTZqUxtP3XaG75pprxowZ8/LLL19xxRVp/aWXXprmpJmnnHJKSrG0mFaOHj169erVeX6jUrTdfffdqbTqT0e1OoN1MNsHADh4HQZWSpn777//1RbNzc1XX311Pv3Trnx+KL9q5MiRgwcPrr02aXWGafHixamQ8vyuS7VXfy0vn6DKur79nIOp9ubOnZtjMTVf9TMAgCCdXSKs2bFjx5YtW0aMGFEtvx3SMaTvl1xyyerVq1vdTdX2HqyObqtyiRAAeAt0KbAWLlxYO+XTSi1latFTu6s91kUXXTRz5szx48c/8MAD9aev2pVmzps3Lx1Mrb1qFzEBAA61AwdW6qfHH3/82muvvfXWW6t+2Wfq1KmDBg3KN62n6MlXEtM4NVZLa1XanmFq92kLXZH2kqRB2kK1rTZyS02cODEdYe3qYX6VS4QAwFvgwIGVH9Zw3XXXpXH9zeNpvGzZsssvv7xarjNy5MiWAKu0ukcqSfVTTW1QiqfauahW28zSvvJP2+USIQDwFjhAYO3cufPee++98sor+/fvf8kll8yePTtfEEzf77rrrlGjRh3wdvXNmzenLUybNq0WRt2Wdtrc3DxmzJi82OqsWDZp0qT807amTJnSNuxSC86cObN7T44AAGjXAQJr3rx5tWeNppY666yz8mOu8vprrrmmZVaHUhLdcsstJ5988po1a1IbHeQDFNauXdvU1JRSLy82dAYrdV5+ckRSf4kw8VgHACBWZ4GVsuOOO+6YMmVKrWkmTpw4dOjQFCVp/W233VZb36777rtvUIuZM2emmen7jBkzUtZ0+wasFEm9evU6/vjj82IXz2DlaXfffXftyRH1lwiT7j02AgCgIx0GVn72+rXXXjty5Mi8ZmfLnyNMBZNWDhgwIK9sVyqz0aNHP/74483Nzfnu8ixtKsVN/d/PaUj9k+WTzs9gTW/5rca0r7THtL7+MAAADqkOA+vuu+9ONZNvWsrX1/LpqBQrX/3qV+fMmXPXXXelgqmlUsqvVDyzZs269NJLn3zyycWLF7d7b1PKo/vvv78WbV2XjiHta+jQodVyB1544YU8SEWVDjXtK+0xp2F5gqtFq0uESUfPzQIA6IYOAysFSpLTKhVJ7pX0Pf80lVPqp7Rm0aJFKVCmT59+55135vxasWLFHXfckcOlI9244T3/McSOHnaaz1cl06ZNq90FX1M72o6024IAAN3T60tf+tKNN95YLb3dbrvttvT9sDqer33ta9UCAEDXHOC3CAEAaFTvIUOGrFy5slp6W6XDSAdzuB1PtQAA0GW9mpub586d29TUVK14+6SamTBhQhocVsczcODAahkAoGt67d27txoCABDBPVgAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAIQqiv8HW8bWDAIyr84AAAAASUVORK5CYII="},420:function(t,A,s){"use strict";s.r(A);var a=s(44),n=Object(a.a)({},(function(){var t=this,A=t.$createElement,a=t._self._c||A;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景"}},[t._v("#")]),t._v(" 场景")]),t._v(" "),a("p",[t._v("在很多生产项目中，我们希望自定义 electron 窗口顶栏，因为它确实非常简陋。")]),t._v(" "),a("h2",{attrs:{id:"步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),a("h3",{attrs:{id:"在渲染层实现自定义顶栏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在渲染层实现自定义顶栏"}},[t._v("#")]),t._v(" 在渲染层实现自定义顶栏")]),t._v(" "),a("p",[t._v("实际上，核心的代码就是添加一个为顶栏的元素添加 css 样式。在 electron 环境，有 "),a("code",[t._v("-webkit-app-region: drag;")]),t._v(" 属性的元素可以拖动整个窗口。")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".toolbar")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-app-region")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".toolbar > *")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-app-region")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no-drag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("上面的 css 看起来有点奇怪，但这是为了避免子元素（例如关闭按钮）也可以拖动的错误。")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.electronjs.org/docs/api/browser-window#event-system-context-menu-windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文档"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://github.com/rxliuli/electron_example/blob/18a1a756e5c82e87ef1c8755a0be036b6765f04b/apps/renderer/src/components/router/component/BasicLayout.module.css#L13",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考代码"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"使用-electron-通信实现窗口的三个操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-electron-通信实现窗口的三个操作"}},[t._v("#")]),t._v(" 使用 electron 通信实现窗口的三个操作")]),t._v(" "),a("p",[t._v("其实，electron 本身支持在渲染层暴露 "),a("code",[t._v("remote")]),t._v(" 模块，但这里我们选择使用 "),a("code",[t._v("ipcRenderer/ipcMain")]),t._v(" 手动实现，remote 模块因为安全原因默认被禁用了。")]),t._v(" "),a("p",[t._v("下面的步骤基本和 "),a("a",{attrs:{href:"/p/76393a60949c47c7add910df0206734c"}},[t._v("渲染、主进程通信")]),t._v(" 所属一样，下面贴一些关键代码")]),t._v(" "),a("p",[t._v("共享类型")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// WindowDefine.ts")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BaseDefine "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron_ipc_type"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WindowDefine")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseDefine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WindowApi"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"min"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"close"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("主进程")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.ts")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WindowApi")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" IpcMainInvokeEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"min"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"close"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" win "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BrowserWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromWebContents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"min"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("minimize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isMaximized")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unmaximize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("maximize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"close"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("渲染进程")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// BasicLayout.tsx")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" windowApi "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" IpcRendererClient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token generic-function"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),a("span",{pre:!0,attrs:{class:"token generic class-name"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("WindowDefine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WindowApi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 封装 electron 的窗口控制 hooks\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useElectronWindowControl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleMin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" windowApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"min"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleMax")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" windowApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleClose")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" windowApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"close"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://github.com/rxliuli/electron_example/tree/3aea837b0c7661e030406a0c20d306694402a26f",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考代码"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"隐藏掉默认的顶栏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#隐藏掉默认的顶栏"}},[t._v("#")]),t._v(" 隐藏掉默认的顶栏")]),t._v(" "),a("p",[t._v("实际上，只要在创建 electron 的 "),a("code",[t._v("BrowserWindow")]),t._v(" 实例时配置即可")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  webPreferences"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    nodeIntegration"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  frame"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  autoHideMenuBar"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("现在，electron 程序就有自定义顶栏啦")]),t._v(" "),a("p",[a("img",{attrs:{src:s(372),alt:"1611134001681.png"}})]),t._v(" "),a("h2",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),a("p",[t._v("虽然自定义窗口顶栏有很多优点，但也并非尽善尽美，已知缺点如下")]),t._v(" "),a("ul",[a("li",[t._v("占有了一定高度，导致一些 UI 组件的位置很奇怪，例如顶部的消息提示框和侧边抽屉，会遮挡住窗口顶栏的一部分。")]),t._v(" "),a("li",[t._v("可能随着系统升级与系统风格不搭，早有人吐槽过 Windows 所有程序的自定义顶栏都是不一样的高度和大小，非常丑")]),t._v(" "),a("li",[t._v("需要重新实现窗口菜单相关的快捷键，例如 "),a("code",[t._v("ctrl+shift+i")]),t._v(" 打开开发者工具")]),t._v(" "),a("li",[t._v("在 mac 上需要进行特别的兼容，否则和其他程序会显得格格不入")])])])}),[],!1,null,null,null);A.default=n.exports}}]);