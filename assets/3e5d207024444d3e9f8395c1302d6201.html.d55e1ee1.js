import{r as l,o as n,c as e,a as r,F as i,b as u}from"./app.f01b6bc8.js";const a={},t=r("h2",{id:"场景",tabindex:"-1"},[r("a",{class:"header-anchor",href:"#场景","aria-hidden":"true"},"#"),u(" 场景")],-1),s=r("p",null,"你是否也曾遇到过下面这样的场景？",-1),p=r("ul",null,[r("li",null,"需要生成 graphql 的类型定义，开启了一个 terminal tab"),r("li",null,"需要生成 i18n json 配置的类型定义，开启了一个 terminal tab"),r("li",null,"需要启动一个依赖的 web 服务，开启了一个 terminal tab"),r("li",null,"需要调试一个依赖的 lib，需要根据变更重新打包，开启了一个 terminal tab"),r("li",null,"需要使用 postcss 监视模式，开启了一个 terminal tab"),r("li",null,"。。。")],-1),o=r("p",null,"为什么会出现这些情况？仔细思考一下，有哪些我们本该也需要这样做但并未这样做的事情？",-1),c=r("ul",null,[r("li",null,"eslint 代码规范检查"),r("li",null,"prettier 格式化"),r("li",null,"tsc server")],-1),h=r("p",null,"为什么它们不需要？因为它们被集成到 ide 或者构建工具中了，那么，理论上很多工具都可以这样集成，为什么没有人做呢？",-1),b=r("h2",{id:"历史",tabindex:"-1"},[r("a",{class:"header-anchor",href:"#历史","aria-hidden":"true"},"#"),u(" 历史")],-1),d=r("p",null,"让我们从时间上来看一下构建工具的历史",-1),f=r("ul",null,[r("li",null,"Grunt"),r("li",null,"browserify"),r("li",null,"Gulp"),r("li",null,"webpack"),r("li",null,"anguarl cli/create-react-app/vue-cli"),r("li",null,"rollup"),r("li",null,"parcel"),r("li",null,"esbuild/swc"),r("li",null,"vite/snowpack"),r("li",null,"...")],-1),g=r("p",null,[u("可以看到，前端构建工具实在太不稳定了，几乎每年换一次（甚至不止一次），每换一次，都是一个生态系统的崩塌。借用阮一峰的话来说："),r("strong",null,"每变一次，前面的那些工具就全没用，都白学。要知道，这些工具每一个都是软件系统，单单 Grunt 就有 4 千个插件，然而全没用了"),u("。是的，这类粘合层工具的寿命实在太短了，而且废弃的太快，所以官方基本上不会去兼容各个构建工具，因为事实上不可能兼容所有的。")],-1),m=r("p",null,[r("img",{src:"/assets/876b3fe42f3f4507af65a670d801a1a1.1fea2ffe.png",alt:"1635696863565"})],-1),k=r("h2",{id:"解决",tabindex:"-1"},[r("a",{class:"header-anchor",href:"#解决","aria-hidden":"true"},"#"),u(" 解决")],-1),v=r("blockquote",null,[r("p",null,"实际上 vite 为了开发者体验，默认就做了很多粘合，包括支持各类文件 css module、worker、wasm 等等。")],-1),w=r("p",null,"那么，这是否意味着这些粘合层的插件不值得做呢？对于官方而言，或许是这样。但对于使用者而言，如果用到的地方太多，那最好还是做一层粘合插件，以此提高开发者体验，尤其是在公司内技术栈统一的情况下，事实上不需要兼容所有的构建工具。",-1),x=r("p",null,"下面是几个这样做的例子",-1),G={href:"https://github.com/fi3ework/vite-plugin-checker",target:"_blank",rel:"noopener noreferrer"},_=u("vite-plugin-checker"),j={href:"https://github.com/rxliuli/liuli-tools/tree/master/libs/rollup-plugin-i18next-dts-gen",target:"_blank",rel:"noopener noreferrer"},q=u("rollup-plugin-i18next-dts-gen"),y={href:"https://github.com/amrbashir/vite-plugin-tauri",target:"_blank",rel:"noopener noreferrer"},F=u("vite-plugin-tauri"),L=r("p",null,"它们都能在某种程度上减少开发者的负担，避免需要开发者了解额外的知识，而仅仅需要使用 npm script 即可，其他的功能都被包含到构建工具的流程中了。",-1);a.render=function(u,a){const O=l("OutboundLink");return n(),e(i,null,[t,s,p,o,c,h,b,d,f,g,m,k,v,w,x,r("ul",null,[r("li",null,[r("a",G,[_,r(O)])]),r("li",null,[r("a",j,[q,r(O)])]),r("li",null,[r("a",y,[F,r(O)])])]),L],64)};export{a as default};
