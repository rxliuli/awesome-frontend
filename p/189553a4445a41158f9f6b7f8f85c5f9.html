<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>问题 | Awesome Frontend</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="这是一个自以为是的前端技术选择和推荐网站">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.2deeb29e.js" as="script"><link rel="preload" href="/assets/js/2.e604afc1.js" as="script"><link rel="preload" href="/assets/js/3.bc811773.js" as="script"><link rel="prefetch" href="/assets/js/10.9a0c7c9e.js"><link rel="prefetch" href="/assets/js/11.3c40100f.js"><link rel="prefetch" href="/assets/js/12.a308c477.js"><link rel="prefetch" href="/assets/js/13.5429abcb.js"><link rel="prefetch" href="/assets/js/14.441fbfde.js"><link rel="prefetch" href="/assets/js/15.16c571f0.js"><link rel="prefetch" href="/assets/js/16.21507883.js"><link rel="prefetch" href="/assets/js/17.e5eb6100.js"><link rel="prefetch" href="/assets/js/18.57ae56c0.js"><link rel="prefetch" href="/assets/js/19.613fe12b.js"><link rel="prefetch" href="/assets/js/20.c71d4c85.js"><link rel="prefetch" href="/assets/js/21.9cd2fa2e.js"><link rel="prefetch" href="/assets/js/22.3e2631f5.js"><link rel="prefetch" href="/assets/js/23.2b38b14d.js"><link rel="prefetch" href="/assets/js/24.effe65b4.js"><link rel="prefetch" href="/assets/js/25.97c4804d.js"><link rel="prefetch" href="/assets/js/26.f40f2b0e.js"><link rel="prefetch" href="/assets/js/27.bd1890ff.js"><link rel="prefetch" href="/assets/js/28.8c18849f.js"><link rel="prefetch" href="/assets/js/29.e7068f55.js"><link rel="prefetch" href="/assets/js/30.d5911095.js"><link rel="prefetch" href="/assets/js/31.7115ca04.js"><link rel="prefetch" href="/assets/js/32.7a3e6393.js"><link rel="prefetch" href="/assets/js/33.044c1035.js"><link rel="prefetch" href="/assets/js/34.0082bbbe.js"><link rel="prefetch" href="/assets/js/35.b70c2fdf.js"><link rel="prefetch" href="/assets/js/36.df1ce398.js"><link rel="prefetch" href="/assets/js/37.ace1eb6b.js"><link rel="prefetch" href="/assets/js/38.bf73d93d.js"><link rel="prefetch" href="/assets/js/39.e34b84db.js"><link rel="prefetch" href="/assets/js/4.fc68f377.js"><link rel="prefetch" href="/assets/js/40.dd2b0005.js"><link rel="prefetch" href="/assets/js/41.f65742f8.js"><link rel="prefetch" href="/assets/js/5.52ec9016.js"><link rel="prefetch" href="/assets/js/6.d5f3e3a9.js"><link rel="prefetch" href="/assets/js/7.8acb74f8.js"><link rel="prefetch" href="/assets/js/8.8bda6f35.js"><link rel="prefetch" href="/assets/js/9.d4cf3fdf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Awesome Frontend</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/rxliuli/awesome-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/rxliuli/awesome-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Electron</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>框架</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/p/4b666902cd1e45779448a76a71d0e2e5.html" class="sidebar-link">前端资源管理</a></li><li><a href="/p/9b07ff8ce6dd4eb08896f6b8191d7181.html" class="sidebar-link">react 通用列表组件封装</a></li><li><a href="/p/189553a4445a41158f9f6b7f8f85c5f9.html" aria-current="page" class="active sidebar-link">前端如何根据不同权限分割逻辑代码？（state/method）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/p/189553a4445a41158f9f6b7f8f85c5f9.html#问题" class="sidebar-link">问题</a></li><li class="sidebar-sub-header"><a href="/p/189553a4445a41158f9f6b7f8f85c5f9.html#讨论" class="sidebar-link">讨论</a></li><li class="sidebar-sub-header"><a href="/p/189553a4445a41158f9f6b7f8f85c5f9.html#解决思路" class="sidebar-link">解决思路</a></li><li class="sidebar-sub-header"><a href="/p/189553a4445a41158f9f6b7f8f85c5f9.html#解决方案" class="sidebar-link">解决方案</a></li></ul></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h2> <p>吾辈写了一个简单的示例代码说明目前遇到的困境（虽然是 react 不过框架之间原理是相通的），其实就是组件内的代码在某个权限下才会执行，但是又依赖于组件内的一些状态，如何将这些代码分割到不同的地方（例如不同的文件）便于之后的维护。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA1MAAACECAYAAAB1a3GWAAAcnklEQVR4nO3daZRcZ33n8d/z3HurqvfW0kJ437AtbMxgLGyDAWEIXkIMMQYMnEwmGDzsxpMJkAOZmZxk5pyZDHMgCg44GQYSIICxcbyExQvG2HiRLAzYwgh5Q7Yld0tq9VbLXZ5nXtyq6upFS5eW7pa/H597uuv2rafuvaUX9+f/s5jR0VGvObFTX3q757/vlZvj8QAAAAAw/+aafAAAAAAAIkwBAAAAQFsIUwAAAADQBsIUAAAAALSBMAUAAAAAbQj3uwXTMhuft2J2PgAAAAAvBAe2MmUIUgAAAABeGNqoTOWByft8eSrvzJTXUjbH9uhpCAAAAGB+GWNm/bknbXfzazZu6x+mvX/YrGYs+gsAAAAA82NfQlTDfo2ZMsaoVqvO8V17CU+EKwAAAADzpFgsSpKMNfLO7/HYOYcp55ysnQw8y5Ytm1sDvs0KFgAAAAAcZOPjlebv3vs9VqpsXina0zaV917lclldXV1TQhUAAAAALHZj42Py3suaPOt476dsreachlobmEt/QgAAAABYTKaHp+n2q7REmAIAAABwONqXrEM/PQAAAABoQ7jb2fOaC/A2/p6/LpVKqtVq8s6rVCrN/RMpZgEAAABYoKyRjPUyxtd/TjugZUI9KlMAAAAA0AbCFAAAAAC0YfdhisVzAQAAAGC3wt3nKZcHqubYKQAAAABAA+UnAAAAAGgDYQoAAAAA2kCYAgAAAIA2EKYAAAAAoA2EKQAAAABoA2EKAAAAANpAmAIAAACANswhTNl88/XtAOWw8fGyXJb/3vi5mLVeQ62WSJKqlVjliaqy1M/TWQEAAAA40ML5PoHu7s7m7zaYxxM5QGyQByrvvYrFSN5JpY6CJKlSrqkjLM7zGQIAAAA4EOY9THknGSuN7BrTM88+oyCYnqjcXlpYWD0VrbFy3qmrs0v9S/rV09MlSRodHdeOHTtUq9Xm+QwXluOOPa4ZNhv/FgAAAIDFYN7DlLHS9u07laWZVp26atFXpxqBIEkyjY+Na3jniOI4lg2sBgYGplTiIO3YMSxpsnoHAAAALBY2r/zMttU1x0gdPCMjI3rRygEZs6ejfH1b+FwmBTZQX1+fdg7v1OjoqAYGlhGkZrFs2RI988wzzdfeTd0AAACAhYpOVQAAAADQBsIUFgy/OAqPAAAAgCTC1EHnnZevp4RD0W3NZXueYr5xDvt6Lu2cM93zAAAA8EKw72FqyvpSVpI5REOYWsdKefkslVwm7zO1ju2K47TtT6hUKvt2Jt7v05geYya3OWtps7E21djYxIzrq5RrewwtswYql1d/fH1YnEu8XJrJpdms73WZFGep0tbP8VJaS1WdmH1WwiTxarRGqAIAAMDhbJFVpoxMkJ+yc5mcc4rTRKPjEypE+cSEWerz4LGPD/K1Wk0dHR1TXo+Pjzdfx3E8+enG5GGkJUTubaIE771c/YB96sZm1cyOnV0lBaFRT0+XonBy4sVqJVZHZ3HWacRtkG8zpmD3eds2kOLYy4SSjYxsEMh7N+s1OCM5WcUtYas6VlZYnDoJZFKtNe93FBmFVqrUMqY5BwAAwGFtET3umvpmJWuVOadyraJvf/c6dXXnazndedtdqlQrKpfH9dyWLdpw//q9tOllA2lkZFjfvf47StKawtCoWisrTqp6/vmt+tFtP5Akbd68WVu2bJlRcTL2AK6N1Ahb9farlVhxnKpaibVzeFhPPvm0Nmx4WLf+2636P5/7vG677Y5Zm3GZNLprRDdcd8Os7ReLRlmc6Ue3fl8ju3YpCELtGhnWfffdJ+/ze3LdddcrtFIQWdn6fPUPP7RBW7dty9soRXrkl7+Sz5zWP7ROTz+5WROjY7r7p/fJSQrDQOVq+9VCAAAAYKGb93Wm2mNks0xZnGrFihX63ZZn9O2vf0s7hoZ0x9136qQTjteqE07S0iXLm++YuSBs3tctCkM9uvFX2rx5k9au/YIk6bK3X6Ybb7xBl739MpUnypKkO++4Wx/4wPsO9mWpNlZVsackXytr/boHdesP7tSJJ5+iE44+UsUo0tKlS7X6rNV6y6W/P2sTSZIpigJtePjnetW557S0nanRPbPmpGIhUFd3h4Z37tSdd96hXz36qMbGxrR+/Xqdffa5SpJEkhTHUmch70Z5y003q7PYKWONXv3ac7RjeLskp6RWUTEM9MuHN2jJwJGykkYrNfV0FQ/u/QIAAADm0YINU41eZ7sr+mx7+mldd+ON2rx1m8573aje9odv08TouLZu36rzXn2ufvKD2/TAzx7Q2r//ki59x2Vas+a1LYFqcj2tx594XMO7dujTn/psS+uxLrnkLapWq+roLGrL757VH733fZKTTKBm5Wg206tUxhjZ+s7Witburq/YU8qP9RX1FKXz3vh7evMbX6tIUlqpKewo5oHJBBrXuEKFCmS16Tebde0/XKuBgQEVCgWNjY1pw4YNKper6ustqqsj1vPDw7rw3VfqtFNO0y3X/Yvu+uEPteKo4/XHf3KFSh3dOmv1Wdq4caNWvmilbrrpFv31f//f2j42oc9+5jO6/fs36qqrrlJPZ59UNJLxGh0d1M7BXRpMU8lnKpU6dMopJymW1NNd1CJffxkAAADYowUbpia1JJDGXBQu0VGnvFT/4d/36Ic/u18XXXyx7vvxPTrhuGPkoxdp06ZNGhwc1FWf/M+65aabtfpVq2WsVKslKhTCvBGTN3biCau0ZcsW/c//9Veq1Wo644wztHTpUt13332SpCzzevjnj2nnoNN/+YvPaMly7TFM7RffaNtLgZMxsTq7lqqS5buiUlEjO0fVt7RXqRrjsJx8ZlXo6tBRxxytD19xpQpdRTm1BrVUUqqHN96r7VkiL+nt73iXjly6RKeccaZ+8/hTCqNQO3YMq1ZN9MQTT+niiy7WEcccq19t2qxlPaEuvOjNuuYLf6vh7WNasWK5LnzL+br5325Ud0evhrfv1M/X3a+doxMazaxWn32WIivFTiosoo6kAAAAwFwsgjA1k09iGePV2d2lsFBQpVbTPT+5Ww+v79AzQ8/p7NVn6cknNisZHVOlXFEURspSKQxCGdMYe5Vv5cqw1rz+zVq+fLm893rZ6WfqiSd/o3e+65065uijFdiCpFDf/dZdShs95Q66PChZ7/Sjm2/Qt791vV684kWqVEfV2R3I+0TlWqxzX3m23nbhJVIouVKk7uVLVQiL+va1X9OmoedU6OpQWkkUmZo+/OF3yDmnqBip4jL120CVSkUTE2OSnB58YL0eWv8LRVGksbERnXPOOTLbntXKlcu1K060pKdHn/rUJ/Xdb9+iy951qWrxiE4//Qy96Q1vUrGzS0oq2ja0U3ev26jASsmhuE0AAADAPFp8YcpKxuSnnSROmzdv1tbnh3Tc8cfrPZe/U7/a9KjiWkWrTz9DjzzyiPqX9KtYCpQkXoGdWVLq7OhW5sqamJhQEASSUo2Nj+n6716vOI61YsUKVcvS8A6rCy5Yc/CvzyvvDxhYSU7nve5srTz6FFXGMp139mmquoqM9br51tt1+mmvkIyRT6WaSxW7VK5cls28rr76aoWdJSXjVd1603fU1dmlNE1lSkYlG6hWHVWS1vS9G6/XshcdofPOe51ev+ZcffMbN+jyyy/X008/LplUK49Yrs5CpFo6rmJQVGBDyUjFrj5t3PiYfv3oY/lEFZLKcaZXrblYRUkjsdRbOPi3CwAAAJgvCzZM7bYAlOZT0j312CZ975ab1LlkiT72/vfrr//yf+iaa67RWFLWOy59u5Z29urWe27Va84/X/L54rk2aoSp1srUqL7ylf+nwcHtKpfLuuuuu3Tqqafq4x//uJYs6ZdRKGsL+tbXb1dX59yvw1gj40399324vjiRivloo1pa1fLjV2rVyafoa9d8VWeecKI6+4wGR3bomaEhXXjc0c0Z+tIkU5pmssWigjBUd2dJI0msQhRoojwuY616urqVhoEqaapv/uM/Kh7ZoUvf8249u22n7rjtHt3/s4flnNOyPxzQ/Q/epe0jQ3r5WWeqmlX00M/u0bqfPqgtvx3Srx/ZpHNe/0qdtuoVuuiCN8oUCpKraMfzw1r366cUSwp8Xl8ze7pWAAAAYBFbsGFqt4yRoqKOO/U0vbuvT7ffe6+q3uuYY47Vu9/5Lj3wi/Wy1mrFEUeqPFHVi1ceKRkpy2bvo9fZ0acrrviAHnvsMUnSGWe8TPff/4DWrl2r3t5elctVFQt9Gnwu1qWXvkkHtdji83WpjCSlicqViroLoYoyuvDNa/Sv37tOl7z1Yn31K9/U2674k/xqTD4phs28gvqYKxcYbd85rL6lSxRJCuprc1UqFfnQS6HVhz7yYf34+zfLhlaZS3TJJZfo9FWn6Ktfu16lTmnVqlP0i40TCmQUBkW96lWv1OqXnakf/utPddk73i51Sv/tv/6lHn3kl+rqCOSTqp59fqded/FlkqQwlOQk28itAAAAwGFm8YWpQFItkyKrrs4ujY+NqWiMNm/+rT73uc+pklb1+xddoPL4mLZu26qhoSH1LO2ud+FraDzh51PzlUol1WqJ+vv7FdgO9fb068orP5jPjBd1qlbNdN23blOa6ICHqeZEEfUKk7F5V0NVKhrbNaLTVh6tssa17OhedR/RrY988rP69J//hY5bMaBd46k6u/OvsJA5RZmkwGosrenLX75WIyMj6unqUjHKlCSxUpcpjqsakFUcx8rSVEFgtWzpMn3nX76n7/mSent7JUmbfrNJaZZqtLpLfaUeRVEkZV7lWlWy0vDguP7dy8/UW//gzXllyle0Y9sOrfv1U7L16zItCxADAAAAh5vFF6ZS3+wGl2ap+vr6VK7FOuaYY/Weyy/XPQ/cqzCKdMcdt+vd732vHlz3oI449mgVi6GSxCtqdvXLH/mdS2StURzHuuXmW/Too4/q5JecLEmq1WoqRJ0qlgJ1dkeqxV6dB6vMYpQHD2skb1SueY1PpCoFRXl53X3vT/Xk757U1X/6n3Td9TfovNe/WmvOO1OSlCnvVme9pILRe/74j1SIoma3Qu9iGTeiyHaqZAqqSuoudmjp8pUyClSr1XTRxRfppBNfqptuuklbnh5SmqXq7ujR9ucHVTqqoJ6gU7Gp6bmtz+grX/m6fu+CN6qnp1tZJoXyUmaVOZNPkli/DLr3AQAA4HC2IMKU9fnsdUZeqo8v2m1mcU5SIMWZ/vmfvqGXvuLl8plTT0+PhnZs17oH1+klJ5+oV5+1WkedeLyCYknbB4d0xBEvbglSzU+WtQUltQlNjI7p/e97n/qXLNHmzZtVmSjryBcfoZ3bB/XP//QNyYfyfrWk3rldnPP5Jk2Woerd8byTrM279skbGUlZlioIC9r01KDOfd0F+sVDj+rnD/9Sl7z1LbrwDX+gOHY6/WUf1caNv9EX/nat3vCG87Vq1ckyxisq5CEzigJ5uXr7Vj+5615tWH+vvA31vv/4cQU1rw2//IXu+PFPdeWHPqDQjMqFVnfddbuyrKYNP1+vNWvOlzep7n3wQS1fOqCenm7tGh7Ua1/7Gr3mNefJG+nJ3z2usKOo8eERPbTuAT2w7iGdveZN2vLsdh135PI9f48tTH1iEEN3QAAAACwiZnSkPKeOWGEYamRkRAMDyxXsZQHbffXk5sd1/Ekn5qHD7CVMSZPrTUnKrJfLpMgYuUxKfSrJqaBAklXmvGSNgsBoT6vIZklFQdQh+URJHEuSomJR+5s3H//tE3KZ00tOPWnWMGVawpScZGb5uGq1qkIh72DonVcQ5hfivVeSpUqSVF0dHZIk5+rB1EsmaJSm1Ly3vnXh4TRV6mJlmVTs6Gwem2VSUD+PWJlqSU0lEygKi5PtzfL9+FRytj4R4Vzu0eNP6sQTj5d3M/82fRFkAAAA4GDatnVQXd1disJIcRLXl1Zq4ScfUBdEZWpOMi8FRj5JZAqRApk81DnJRlKhcUn1B/PmdOhZ/rBvpgXAysSYwjBUVOxQGlcVFgqKil1qNOKzVKaRGuvB7EDy3k+pTPk4UZY5hR15cEmSRKVSafINNt/nvVcURYqCUMbnIcpaK2NM3qaR0iSR90aFMJSClrDmlF9LGCr/T4rjVIENFYR5kMpSLxMaFRSoEOVByyVexjmZqJ5KmzMJpgpNIFMwCrTbrLVPCE8AAABYLBbdo6vPUinzMoVIWZIvDRvHqZqzHkiS8/JpoixO5ZL6E39QDxLTnvI7unoUFUuaGBtRWK/+1Cpl1SplSZoMUtIBD1LTOeXXFXYUFcdxMzBlaSYpD1HOOUVRpMAGGh0d1cTEhLz3snbmVxkEgQqFMK/OOT/5bVtJgVFarTTvYa1WUxBK5YmqJCmOY1nl47EabGRkii3lPZtvaZopc/mRmc97YjpNfh0AAADA4WhBVKbCKMp/2YewYgrRZNWp/r5CoX4ZzbBgZMIo79W3T3HRqKunr/mq2eWtHU5K4kTWWgWFQEkcq6u7W5KUpZmCQtDMZqY+t/lk6XDy+hvd+iQ1u/VFjftU39fXN3nOzSsxZkYpMghnv69hqaP5e3dXXo3r7MqrYB2deWVs1p6R0+5psVhsdk8M5jgVusvyrosSVSkAAAAsLvP++OqzPBmVx8frO6Zts3F7r3n46aURX389a5vTP3RvJ7B7SZwoKkUKCoFc4tXR0SGXZaqMV/MgdQh575tjqFq5TDMuzbmpO6aPX/Ju5r7G/tRnbZehkjRRsVhs780AAADAPJr3ypT3Xt3dXRobG1chmrmKk5lWrbI2UJzECn0gY6zkrZzLZO1kUPHeKc3ybmehy49zLssXxJ1euTH72RnNT82jUSmvHrnEa2Rkl5YsXaosTTU+MS4bWIXB1EDl9vPzrbEyNr+mNE2ntu2cvPcKgqC5zlaWZcqyLK+c2XySDinv1he4QGEQyhgpTpIpXQcboax1nzVWaZYqSzO50CkKozzAtaQu7/ccSGu1mjq7OpuTcQAAAACLxbyHKWOM+vr6tWt4WM9t3apqtTLt71OfsK21SuJYQRjWQ5GVyzLZlpDinVeW5cEiCEIZa+Sy1jDV0uYBDlPGGmVpqmKxqN7eXvX290iSBrcO6blnn1WaZtPevn+f3wiHxhhl2dS2s/o1h2HYDEHOOaVpmoepIGief5zECoJ6mKqvuxW0BNTGmKjWfcaYZpgKwqAZploDlJutnNViYGBAxWJR3h+QiSEBAADwAjUf/3N+3sNUQ+bcjCA163FZ2qw6NcNUvQLT4L2fElqMM3LOyXkva4zMlAC1v2FmWte9enO1Wk1DQ0MaGhra4/v3Fjb2/vmmOYvf9DDVuC+t+7Msm9b1L79vLnMyxsgZJ+PNjO6Bs3UXNCY/LnNZyz2e+V3s7rwlNe+PbfNf/oypKgEAAHBY894rzSaLF/39/YqiQM55BdbMGJpyMAPWvIcp770GB59XsVjUscceN3P8zIx53f3UytSs3fymVaaMmdbN78BVpsyeFq/aBweqMiXNDDx7qkwFNpANbHOR5DhJFAZhc7KKJMn2oTIlpVk2WZmKgnxsVUt+2ls3v/0NQ2QpAACAF5bGo3wcp9o1vEvlibL6+nvm5X+yz3uYMsZofHxC/f1LVOwo7csbFEbR5IK0kgIfTOkjZmRkTD52qTnLnA8mF0Cacp8P7aQQ05kDOAfI9OnRrbXNANm6L4qiyX31H1EYqSUnKYqm3hcbzH6fIhvIGtsMYcZO7663b/+o2y3QMc4KAADghaVaiVXqKKhQCLVk6RJt27pNvb09zWfZQ/l8OP9hKrCKolCFQkE+c1NC0u5472VaV4advkqsn6yIGG/yv/mD1I9yAVdGGuOXpqf03e1rvZjp96oRdqbfP+/yrorWBXO6tzNmC5z7xIk5FrMCAAB4QSl1FBTHeU+rKAo0UZ6Yt/H38x6mJCmOE9kwUJYkCqYvPjvLXbHhtCpJ61t84xgzdZ+Rpg9vOiDaDQENB/Fbn23NKWlmBUuauRbV9GC0u6BkbF6dmvO57f1rBgAAAGbVXGdW9dmt5+lhkk5SAAAAANAGwhQAAAAAtIEwBQAAAABtWBBjppoL3/pZst3+jkla6A736wMAAAAOpOnPz87lk5LZ3fx9ugM4vorKFAAAAAC0gTAFAAAAAG0gTAEAAABAGwhTAAAAANAGwhQAAAAAtIEwBQAAAABtIEwBAAAAQBsIUwAAAADQBsIUAAAAALSBMAUAAAAAbSBMAQAAAEAbCFMAAAAA0AbCFAAAAAC0gTAFAAAAAG0gTAEAAABAG8L5PgEAAAAA2Gdm2ktjZeapRERlCgAAAADaQJgCAAAAgDYQpgAAAACgDYQpAAAAAIcPs/dDDhTCFAAAAAC0gTAFAAAAAG0gTAEAAABAGwhTAAAAABYPL8lIWZLJZ5JzmVzm8/3+0J4Ki/YCAAAAWFRc4hWEgSTJGCNjzCGdeKKByhQAAACAxcNKNjL69Kf+XGmSKklTpWkil3i55NCWpqhMAQAAAFg00lqqq6++WmuvWStJ6ursVFSK5uVcqEwBAAAAWLiMVJmo5t34jHTVJz6RBykv1Sqx4jiWT+fn1AhTAAAAABasynhVHd0l+VT62Ic/pi98/vP5H4xU7CioUCjIzFN/O8IUAAAAgAWrEaQ+9KEPau01axUW8+R01Uevkk+lSqWitJbKpzrkFSrGTAEAAABY0D76sY/qS//wpebrj3zoo/riF/8un4zCWlkbyASH/rwWRJgqFouSl4LCPNwBAAAAAAtGFmdTcsGVV1ypL3/5WiXVRFEx0p/96Z/pi3//d82/J0kqGxrJS2mSNitXh8K8d/NrlOImxibm90QAAAAAzLtmkPLSBz/wQV37f6+VsVJUivSJj39Cf/O5v1FaS1UeK0uSent7JSO5zMvaQ1ucMaMj5TlNxh6GoUZGRjQwsFxBoP1eHMslXqOjo6pWK1q2bJmCYG5J0nu3fycAAAAAYEHx3isshkpr9UqTl6rlmkodxWY5qDpR086dO9Tf36/Ons4px+7RXvLLtq2D6uruUhRGipM4XxB4yslN1qPmvZufMUa9vb3KslTPPfecknRuo8a8O7QLcwEAAAA4eIw1SuJY3T098s7LWKPhnTtVKBSUOadCVJANrKIwUhSF6uzplCRlzh3ycDP/YSqQjIyWDSzTsoFle0+SMxo4KKcFAAAAYIE4+pij9npMsaOQ/3II88G8j5kCAAAAgMWIMAUAAAAAbSBMAQAAAEAb5n3M1AyMgQIAAACwCFCZAgAAAIA2EKYAAAAAoA2EKQAAAABoA2EKAAAAANpAmAIAAACANhCmAAAAAKANhCkAAAAAaMOc1pky1siYxqYDsyYU60oBAAAAWCCaeaeeffaEyhQAAAAAtIEwBQAAAAB1jWqUd36vxxKmAAAAAKDOWCPnnLw/wGHKGqs4jmWMkfeSy9o+RwAAAABYcIwx8s7L+8ltd+Y0AYUkOedkrVVQfyeBCgAAAMDhIi8ceTnv9nrsnMOUtTYve9XbtsGczw8AAAAAFiRr8s57+9LNb05hynknG1glSaIdO3apWq0qikhTAAAAAA4PhUJhn481oyPlvUeuxsF2sv/g5L59fjsAAAAAzIvplabGbH2N/dPXlDLWzLpffnLaiTlVpqYHKQAAAABYDGaEpWD2BXnnkneYGh0AAAAA2kCYAgAAAIA2zHk2vxl9BkW3PwAAAACHh5l5Z/eoTAEAAABAGwhTAAAAANAGwhQAAAAAtGHOY6Zm8OQxAAAAAC88JCEAAAAAaANhCgAAAADaQJgCAAAAgDb8f3hNgKtQkflMAAAAAElFTkSuQmCC" alt="7e69d69a9157f9880390cfb28f9a12eb.png"></p> <p><img src="data:image/png;base64,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" alt="b96ed8f9915d324a238c66ea6f2cc520.png"></p> <p><img src="/assets/img/362c59f1c07c4b69998c9268ac84f5b6.121b377f.png" alt="8e51e2ceb7bf034de3b0a01f796172e7.png"></p> <p>这个例子里面有两种角色，normal/vip，普通用户可以试用 vip 的功能，vip 角色不能出现普通用户的试用功能，从功能上看很好实现，但问题在于如何将这些互相耦合的代码分割，理想情况是在进入页面初始化时就确定要加载的 state/methods 了。</p> <p><img src="/assets/img/350140322f52401091830c2c15eb0cd6.7393bf25.png" alt="2535ac9cc61e98e49aacc7417570e845.png"></p> <p>虽然这里只有两种角色，但吾辈丝毫不怀疑真实场景会有更多，当然真实场景是角色下面还有权限，某些东西是角色所属的（只要是这个角色就一定有），而有些则是权限所属（必须拥有某个权限）</p> <p>那么，有什么优雅的方式将这种与权限相关但相互存在关联的代码（state/method）分离么？</p> <p>具体代码在：<a href="https://github.com/rxliuli/admin-man-sys/blob/f97534e94e/src/pages/index/permission/REditable.tsx" target="_blank" rel="noopener noreferrer">https://github.com/rxliuli/admin-man-sys/blob/f97534e94e/src/pages/index/permission/REditable.tsx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <p>下面使用类的形式实现了代码分割，但似乎并没有更加简单。。。</p> <p><img src="/assets/img/d1f782f9e7f8405090878dfd80bd513b.dd719c09.png" alt="a825c2280b163c296a4979bd9606828d.png"></p> <p>具体代码在：<a href="https://github.com/rxliuli/admin-man-sys/blob/master/src/pages/index/permission/REditableWrapper.tsx" target="_blank" rel="noopener noreferrer">https://github.com/rxliuli/admin-man-sys/blob/master/src/pages/index/permission/REditableWrapper.tsx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="讨论"><a href="#讨论" class="header-anchor">#</a> 讨论</h2> <ul><li><p>Meathill</p> <ol><li>大体上，你只需要考虑界面上有区分即可。代码拆分价值不大，毕竟压缩后最多十几 K，对加载速度和响应速度的影响都微乎其微，但是要花时间设计代码结构。</li> <li>非得要做，可以考虑 webpack lazyload 功能，分拆模块为不同文件。</li></ol></li> <li><p>我: 一个主要的渴求是将这些代码按照权限分割出去，便于之后的维护，代码大小本质上不存在什么问题（倒不如说分割之后再打包反而更大）</p></li> <li><p>Meathill: 按照权限分割代码未必有利日后的维护。可以好好读一下《重构》和《设计模式》。</p></li> <li><p>我: 这种诉求并非完全来源于前端，而是来自于经理（后端）的想法。。。</p> <blockquote><p>经理：我理解应该是根据图片是什么类型确定进哪个类型的 “实现 “, 这里是什么设计？为什么感觉糊里糊涂的
经理：前端把公共代码抽象出来不行吗？时间不够也应该按这个思路做，稍微有复制的代码，至少设计没问题
经理：列表页就知道是什么类型的图片不是吗？为什么这里不能决定进哪个实现？
我：现在是从官网跳转时加的 query 参数 bizType 确定类型，然后基于此拿到对应的权限（permission）列表，然后根据是否有权限控制元素的显示隐藏，本身逻辑代码还是一起的
经理：这个不是个很典型的面向对象的多态吗？是什么原因不能抽象和做两个实现？
我：那是后端万物皆类的情况，前端组件化场景下要考虑的是组件分割之后，代码复用、通信带来的麻烦是否过高
经理：这是做到什么程度的问题，目标是流程复用，实现独立，新增一个类型不能漏实现。就像后台那个答题新增一种题型还要记着去改统计那里，太蠢了</p></blockquote> <p>最终实在不行我们或许只能采用 mixin 这种不是很好的解决方案了。。</p></li> <li><p>Meathill: 其实吧，HTML/CSS 的崛起已经证明了 “面向对象的多态” 在 UI 开发方面天生不足。但是这一点展开讲太复杂。推荐你和你的经理看看尤雨溪（Vue 的作者）前阵子的演讲《State of Components》，了解一下 React Hooks 和 Vue Composition API，再来看这个问题，可能看法就变了。</p></li> <li><p>我: 最终我找到了一个用【类】的形式去分割操作逻辑的方法，不过感觉文件真的多太多了，而且还要想办法在 vue 里重写。。。（参考上面的补充）</p></li> <li><p>我: 好吧，现在吾辈已然实用了 react hooks，确信 hooks 是一种更好的解决方案！</p></li></ul> <h2 id="解决思路"><a href="#解决思路" class="header-anchor">#</a> 解决思路</h2> <ul><li>mixin 混入</li> <li>使用高阶组件</li> <li>使用 hooks 封装逻辑</li></ul> <h2 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h2> <p>经过 hooks 的实践，吾辈发现 hooks 实在太适合封装 UI 和逻辑代码了。
因为 hooks 几乎能做到所有组件能做到的事情，同时没有组件那么<strong>重</strong>，事实上，很久以来 react 都允许写一个函数返回 UI，但这仅适用于无状态组件，对于有状态的组件，之前只能使用类组件。但现在 hooks 却极大增强了函数的能力，甚至为函数开了后门 -- 所有 <code>use</code> 开头的函数均被认为是自定义 hooks。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/p/9b07ff8ce6dd4eb08896f6b8191d7181.html" class="prev">
        react 通用列表组件封装
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2deeb29e.js" defer></script><script src="/assets/js/2.e604afc1.js" defer></script><script src="/assets/js/3.bc811773.js" defer></script>
  </body>
</html>
