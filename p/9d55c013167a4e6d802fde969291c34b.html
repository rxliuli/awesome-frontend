<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>场景 | Awesome Frontend</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="这是一个自以为是的前端技术选择和推荐网站">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.2deeb29e.js" as="script"><link rel="preload" href="/assets/js/2.e604afc1.js" as="script"><link rel="preload" href="/assets/js/15.16c571f0.js" as="script"><link rel="prefetch" href="/assets/js/10.9a0c7c9e.js"><link rel="prefetch" href="/assets/js/11.3c40100f.js"><link rel="prefetch" href="/assets/js/12.a308c477.js"><link rel="prefetch" href="/assets/js/13.5429abcb.js"><link rel="prefetch" href="/assets/js/14.441fbfde.js"><link rel="prefetch" href="/assets/js/16.21507883.js"><link rel="prefetch" href="/assets/js/17.e5eb6100.js"><link rel="prefetch" href="/assets/js/18.57ae56c0.js"><link rel="prefetch" href="/assets/js/19.613fe12b.js"><link rel="prefetch" href="/assets/js/20.c71d4c85.js"><link rel="prefetch" href="/assets/js/21.9cd2fa2e.js"><link rel="prefetch" href="/assets/js/22.3e2631f5.js"><link rel="prefetch" href="/assets/js/23.2b38b14d.js"><link rel="prefetch" href="/assets/js/24.effe65b4.js"><link rel="prefetch" href="/assets/js/25.97c4804d.js"><link rel="prefetch" href="/assets/js/26.f40f2b0e.js"><link rel="prefetch" href="/assets/js/27.bd1890ff.js"><link rel="prefetch" href="/assets/js/28.8c18849f.js"><link rel="prefetch" href="/assets/js/29.e7068f55.js"><link rel="prefetch" href="/assets/js/3.bc811773.js"><link rel="prefetch" href="/assets/js/30.d5911095.js"><link rel="prefetch" href="/assets/js/31.7115ca04.js"><link rel="prefetch" href="/assets/js/32.7a3e6393.js"><link rel="prefetch" href="/assets/js/33.044c1035.js"><link rel="prefetch" href="/assets/js/34.0082bbbe.js"><link rel="prefetch" href="/assets/js/35.b70c2fdf.js"><link rel="prefetch" href="/assets/js/36.df1ce398.js"><link rel="prefetch" href="/assets/js/37.ace1eb6b.js"><link rel="prefetch" href="/assets/js/38.bf73d93d.js"><link rel="prefetch" href="/assets/js/39.e34b84db.js"><link rel="prefetch" href="/assets/js/4.fc68f377.js"><link rel="prefetch" href="/assets/js/40.dd2b0005.js"><link rel="prefetch" href="/assets/js/41.f65742f8.js"><link rel="prefetch" href="/assets/js/5.52ec9016.js"><link rel="prefetch" href="/assets/js/6.d5f3e3a9.js"><link rel="prefetch" href="/assets/js/7.8acb74f8.js"><link rel="prefetch" href="/assets/js/8.8bda6f35.js"><link rel="prefetch" href="/assets/js/9.d4cf3fdf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Awesome Frontend</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/rxliuli/awesome-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/rxliuli/awesome-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Electron</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/p/6e778ce220e042a0902e7a85976e7e47.html" class="sidebar-link">electron 开发经验之谈系列-渲染、主进程通信</a></li><li><a href="/p/ff86c5343d38460a8e78a62617f9eace.html" class="sidebar-link">electron 开发经验之谈系列-electron 自定义协议</a></li><li><a href="/p/da25fbc33fa248b196ea573b661dbe14.html" class="sidebar-link">electron 开发经验之谈系列-简介</a></li><li><a href="/p/db74e6e5d2444bc3b6e185a7b338bbf6.html" class="sidebar-link">electron 开发经验之谈系列-在渲染、主进程间共享数据</a></li><li><a href="/p/74b1ec3c598940c2afbd17cdd50e31cb.html" class="sidebar-link">electron 开发经验之谈系列-技术栈简介及选择</a></li><li><a href="/p/76072311817b4c1985ab5746e8f91d87.html" class="sidebar-link">electron 开发经验之谈系列-常见问题</a></li><li><a href="/p/63f0a26fdd3743668b11410a10625c1b.html" class="sidebar-link">electron 开发经验之谈系列-使用 electron-builder 打包</a></li><li><a href="/p/475d21afd2404d5ba1f71f600c44da09.html" class="sidebar-link">electron 开发经验之谈系列-基本项目搭建</a></li><li><a href="/p/1527b67fbd78494cb716e2db4b8fb688.html" class="sidebar-link">electron 开发经验之谈系列-开发环境优化</a></li><li><a href="/p/9d55c013167a4e6d802fde969291c34b.html" aria-current="page" class="active sidebar-link">electron 开发经验之谈系列-自定义窗口顶栏</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/p/9d55c013167a4e6d802fde969291c34b.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/p/9d55c013167a4e6d802fde969291c34b.html#步骤" class="sidebar-link">步骤</a></li><li class="sidebar-sub-header"><a href="/p/9d55c013167a4e6d802fde969291c34b.html#问题" class="sidebar-link">问题</a></li></ul></li><li><a href="/p/0f342a17caae4f1e845a543770008e35.html" class="sidebar-link">electron 开发经验之谈系列-自动更新</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="场景"><a href="#场景" class="header-anchor">#</a> 场景</h2> <p>在很多生产项目中，我们希望自定义 electron 窗口顶栏，因为它确实非常简陋。</p> <h2 id="步骤"><a href="#步骤" class="header-anchor">#</a> 步骤</h2> <h3 id="在渲染层实现自定义顶栏"><a href="#在渲染层实现自定义顶栏" class="header-anchor">#</a> 在渲染层实现自定义顶栏</h3> <p>实际上，核心的代码就是添加一个为顶栏的元素添加 css 样式。在 electron 环境，有 <code>-webkit-app-region: drag;</code> 属性的元素可以拖动整个窗口。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.toolbar</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-app-region</span><span class="token punctuation">:</span> drag<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.toolbar &gt; *</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-app-region</span><span class="token punctuation">:</span> no-drag<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面的 css 看起来有点奇怪，但这是为了避免子元素（例如关闭按钮）也可以拖动的错误。</p> <blockquote><p><a href="https://www.electronjs.org/docs/api/browser-window#event-system-context-menu-windows" target="_blank" rel="noopener noreferrer">参考文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/rxliuli/electron_example/blob/18a1a756e5c82e87ef1c8755a0be036b6765f04b/apps/renderer/src/components/router/component/BasicLayout.module.css#L13" target="_blank" rel="noopener noreferrer">参考代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="使用-electron-通信实现窗口的三个操作"><a href="#使用-electron-通信实现窗口的三个操作" class="header-anchor">#</a> 使用 electron 通信实现窗口的三个操作</h3> <p>其实，electron 本身支持在渲染层暴露 <code>remote</code> 模块，但这里我们选择使用 <code>ipcRenderer/ipcMain</code> 手动实现，remote 模块因为安全原因默认被禁用了。</p> <p>下面的步骤基本和 <a href="/p/6e778ce220e042a0902e7a85976e7e47">渲染、主进程通信</a> 所属一样，下面贴一些关键代码</p> <p>共享类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// WindowDefine.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BaseDefine <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;electron_ipc_type&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">WindowDefine</span> <span class="token keyword">extends</span> <span class="token class-name">BaseDefine<span class="token operator">&lt;</span><span class="token string">&quot;WindowApi&quot;</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token function">action</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">&quot;min&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;max&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;close&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>主进程</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// main.ts</span>
<span class="token keyword">class</span> <span class="token class-name">WindowApi</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">action</span><span class="token punctuation">(</span>e<span class="token operator">:</span> IpcMainInvokeEvent<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">&quot;min&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;max&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;close&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> win <span class="token operator">=</span> BrowserWindow<span class="token punctuation">.</span><span class="token function">fromWebContents</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sender<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&quot;min&quot;</span><span class="token operator">:</span>
        win<span class="token punctuation">.</span><span class="token function">minimize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;max&quot;</span><span class="token operator">:</span>
        win<span class="token punctuation">.</span><span class="token function">isMaximized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> win<span class="token punctuation">.</span><span class="token function">unmaximize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> win<span class="token punctuation">.</span><span class="token function">maximize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;close&quot;</span><span class="token operator">:</span>
        win<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>渲染进程</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// BasicLayout.tsx</span>
<span class="token keyword">const</span> windowApi <span class="token operator">=</span> IpcRendererClient<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">gen</span><span class="token generic class-name"><span class="token operator">&lt;</span>WindowDefine<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;WindowApi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 封装 electron 的窗口控制 hooks
 */</span>
<span class="token keyword">function</span> <span class="token function">useElectronWindowControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">handleMin</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> windowApi<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&quot;min&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">handleMax</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> windowApi<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&quot;max&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">handleClose</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> windowApi<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&quot;close&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><a href="https://github.com/rxliuli/electron_example/tree/3aea837b0c7661e030406a0c20d306694402a26f" target="_blank" rel="noopener noreferrer">参考代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="隐藏掉默认的顶栏"><a href="#隐藏掉默认的顶栏" class="header-anchor">#</a> 隐藏掉默认的顶栏</h3> <p>实际上，只要在创建 electron 的 <code>BrowserWindow</code> 实例时配置即可</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  webPreferences<span class="token operator">:</span> <span class="token punctuation">{</span>
    nodeIntegration<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  frame<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  autoHideMenuBar<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>现在，electron 程序就有自定义顶栏啦</p> <p><img src="data:image/png;base64,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ANCD7A+s9evX//znP8/jj3zkI8cee+yJJ5543nnn5TWLFy/esGFDHrd1ww03PPzww1ddddWtt9562WWXVWuL4vbbb1+5cmW1UKfR+QAAPcj+wHr66aeXL1+eBoMGDRozZkwaHHHEEbWrhI888sivf/3rPG5ryJAhDzzwwJw5c6ZOnfrjH//4O9/5Tl7f3Nw8f/78tjfINzofAKAHqQJr165dP/3pT/MFu1GjRr3//e/P62tXCZOFCxd2dI/UlVdemZqsV69eady7d+9PfOITtVc9//zz27Zty+OaRucDAPQgVWC99NJLjz32WB6fffbZe/bsyb/clxrojDPOyOuXL1/+8ssv53Erw4cP79OnT7VQFMcdd9ypp56axxs3bmz7G4KNzgcA6EGqwHriiSfy9cHkpptuyr/ZlwwePLh2/S5NqEVY51KWHXHEEdVCFzQ6HwDgcFYG1vbt2+fNm5eXO7dgwYI0uVro2M6dO9etW5fHffr06d17/51e7Wp0PgDA4axMmRdeeKF2+ur000//mzbSyvzTpUuXrlmzJo/rbdiwof7O9LVr1z7//PN5fNppp/Xr1y+PaxqdDwDQg5SBtWTJkvzncZJp06b9oo0pU6bkn65evXrhwoV5XO9HP/rRU089lcfbt2//7ne/m2bmxQsuuKBv3755XNPofACAHqT3q6++mhIqL4wcOfJDH/pQHtcbNWrUmWeemceLFy9OL8njmuXLl1922WWpw26++eaPfexj3/72t/P68ePHp2DK43qNzgcA6EF6r169etmyZXlhxIgRAwcOzON6Q4cOTe2Vx2ly7WxTzbhx4zZv3jxjxoyvfOUrqcDyytNPP/2LX/zigAED8mK9RucDAPQgvefPn5//PE4yevToI488Mo/r9evXr3Ziqd1ngV511VX33HNP7Vat5JOf/OQPf/jD/MDSthqdDwDQg/Tq9mPTly5dWquu2bNnf/rTn961a9fGjRs3b948ZMiQY445Jj9HtKbR+QAAPVTkAxH69u170kknDR8+/Nhjj+1KLTU6HwCgR/DEKQCAYAILACCYwAIACCawAACCdf+3CAEAaJczWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMF6NTc3z507t6mpqVrx9hkyZMiECRPS4LA6noEDB1bLAABd0+tb3/rWGWeccc4551Qr3j4rV6589tln0+CwOp7JkydXywAAXdO7qanpcKiZJB1GOpjD7XiqBQCALnMPFgBAMIEFABCss8DauXPnF77whfvuu6/VOJk+fXptnKUJaeXmzZur5aJIE1rNWb58eZpTLTSu7U6ztPJgNgsAEKuzwFq1atWLL7740Y9+NI137NiRxieffHIap5a6/PLL77333iuuuKK+qPr163fLLbekn+bF9MI0J0VVXly9evX1118/bNiw2oSG1HaaWiptavTo0X+2z6RJk6ZNm1YttMjJVS20SIut1tSkcOzeIQEAtKuzwFq0aNHIkSP79++fxps2bdq7d28ev/vd7/7ABz4we/bs1FsLFy5smVuunDx58qBBg+688868Jk2eMmVKSqKUL6nDbrzxxhkzZowbNy7NzBMaknf6ve99L/+m4eLFi1/dJ62cOnVqtdBi4sSJaddpUPtRWkyvSotpvGbNmgkTJqxYsSKNH3zwwZbNAwCE6TCwUhItX768dmbowx/+8MMPP5y+58UktdSsWbMmTZqUxtP3XaG75pprxowZ8/LLL19xxRVp/aWXXprmpJmnnHJKSrG0mFaOHj169erVeX6jUrTdfffdqbTqT0e1OoN1MNsHADh4HQZWSpn777//1RbNzc1XX311Pv3Trnx+KL9q5MiRgwcPrr02aXWGafHixamQ8vyuS7VXfy0vn6DKur79nIOp9ubOnZtjMTVf9TMAgCCdXSKs2bFjx5YtW0aMGFEtvx3SMaTvl1xyyerVq1vdTdX2HqyObqtyiRAAeAt0KbAWLlxYO+XTSi1latFTu6s91kUXXTRz5szx48c/8MAD9aev2pVmzps3Lx1Mrb1qFzEBAA61AwdW6qfHH3/82muvvfXWW6t+2Wfq1KmDBg3KN62n6MlXEtM4NVZLa1XanmFq92kLXZH2kqRB2kK1rTZyS02cODEdYe3qYX6VS4QAwFvgwIGVH9Zw3XXXpXH9zeNpvGzZsssvv7xarjNy5MiWAKu0ukcqSfVTTW1QiqfauahW28zSvvJP2+USIQDwFjhAYO3cufPee++98sor+/fvf8kll8yePTtfEEzf77rrrlGjRh3wdvXNmzenLUybNq0WRt2Wdtrc3DxmzJi82OqsWDZp0qT807amTJnSNuxSC86cObN7T44AAGjXAQJr3rx5tWeNppY666yz8mOu8vprrrmmZVaHUhLdcsstJ5988po1a1IbHeQDFNauXdvU1JRSLy82dAYrdV5+ckRSf4kw8VgHACBWZ4GVsuOOO+6YMmVKrWkmTpw4dOjQFCVp/W233VZb36777rtvUIuZM2emmen7jBkzUtZ0+wasFEm9evU6/vjj82IXz2DlaXfffXftyRH1lwiT7j02AgCgIx0GVn72+rXXXjty5Mi8ZmfLnyNMBZNWDhgwIK9sVyqz0aNHP/74483Nzfnu8ixtKsVN/d/PaUj9k+WTzs9gTW/5rca0r7THtL7+MAAADqkOA+vuu+9ONZNvWsrX1/LpqBQrX/3qV+fMmXPXXXelgqmlUsqvVDyzZs269NJLn3zyycWLF7d7b1PKo/vvv78WbV2XjiHta+jQodVyB1544YU8SEWVDjXtK+0xp2F5gqtFq0uESUfPzQIA6IYOAysFSpLTKhVJ7pX0Pf80lVPqp7Rm0aJFKVCmT59+55135vxasWLFHXfckcOlI9244T3/McSOHnaaz1cl06ZNq90FX1M72o6024IAAN3T60tf+tKNN95YLb3dbrvttvT9sDqer33ta9UCAEDXHOC3CAEAaFTvIUOGrFy5slp6W6XDSAdzuB1PtQAA0GW9mpub586d29TUVK14+6SamTBhQhocVsczcODAahkAoGt67d27txoCABDBPVgAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAIQqiv8HW8bWDAIyr84AAAAASUVORK5CYII=" alt="1611134001681.png"></p> <h2 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h2> <p>虽然自定义窗口顶栏有很多优点，但也并非尽善尽美，已知缺点如下</p> <ul><li>占有了一定高度，导致一些 UI 组件的位置很奇怪，例如顶部的消息提示框和侧边抽屉，会遮挡住窗口顶栏的一部分。</li> <li>可能随着系统升级与系统风格不搭，早有人吐槽过 Windows 所有程序的自定义顶栏都是不一样的高度和大小，非常丑</li> <li>需要重新实现窗口菜单相关的快捷键，例如 <code>ctrl+shift+i</code> 打开开发者工具</li> <li>在 mac 上需要进行特别的兼容，否则和其他程序会显得格格不入</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/p/1527b67fbd78494cb716e2db4b8fb688.html" class="prev">
        electron 开发经验之谈系列-开发环境优化
      </a></span> <span class="next"><a href="/p/0f342a17caae4f1e845a543770008e35.html">
        electron 开发经验之谈系列-自动更新
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2deeb29e.js" defer></script><script src="/assets/js/2.e604afc1.js" defer></script><script src="/assets/js/15.16c571f0.js" defer></script>
  </body>
</html>
